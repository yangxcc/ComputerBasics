# ComputerBasics
è®¡ç®—æœºç½‘ç»œï¼Œæ“ä½œç³»ç»Ÿï¼Œæœªæ¥ä¼šåŠ å…¥å¯¹Linuxå’ŒMySQLçš„å­¦ä¹ 

**<font color="red">å†™å‰åœ¨æœ€å‰é¢ï¼šè®¡ç®—æœºç½‘ç»œå’Œæ“ä½œç³»ç»Ÿçš„çŸ¥è¯†ç»å¤§å¤šæ•°æ¥è‡ªäºâ€œå°æ—codingâ€è¿™ä¸ªå¾®ä¿¡å…¬ä¼—å·ï¼ŒCSDNåŒå</font>**

æœªæ¥çš„1~2ä¸ªæœˆæˆ‘ä¼šæ¯å¤©å®šæ—¶å¤ä¹ ä¸€ä¸‹è®¡ç®—æœºç½‘ç»œå’Œæ“ä½œç³»ç»Ÿçš„çŸ¥è¯†ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶ä¸Šåšå¥½è®°å½•ï¼ŒåŠ æ²¹ï¼

**<font color=red>MySQLã€Redisæ•°æ®åº“çš„çŸ¥è¯†æ¥è‡ªäºJavaGuideï¼Œé“¾æ¥åœ°å€ä¸º[JavaGuide: ã€Javaå­¦ä¹ +é¢è¯•æŒ‡å—ã€‘ ä¸€ä»½æ¶µç›–å¤§éƒ¨åˆ†Javaç¨‹åºå‘˜æ‰€éœ€è¦æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ã€‚ (gitee.com)](https://gitee.com/SnailClimb/JavaGuide)</font>**

**<font color=red>Javaå­¦ä¹ ä¸»è¦æ¥è‡ªäºä¹¦ç±ã€Šç–¯ç‹‚Javaé¢è¯•è®²ä¹‰ã€‹</font>**

**ä»“åº“ç›®å½•**

```
|--- image
       |--- OperationSystem
       |--- ComputerNetwork
       |--- MySQL
       |--- Java
|--- file
       |--- OperationSystem
                  |--- day01
                  |--- day02
                  |--- day03
                  ...
       |--- ComputerNetwork
                  |--- day01
                  |--- day02
                  |--- day03
                  ...
       |--- MySQL
       			  |--- day01
       			  |--- day02
       			  ...
       |--- Java
       			  |--- chapter01
       			  |--- chapter02
       			  ...
|--- project
        |--- å¯èƒ½ä¼šæœ‰ä¸ªå°é¡¹ç›®ï¼Œæ¯”å¦‚Socketç½‘ç»œç¼–ç¨‹
```


:date:**<font size="4pt">æ¯æ—¥è®°å½•</font>**

- 2021å¹´11æœˆ9æ—¥   åˆ›å»ºæ­¤ä»“åº“ï¼Œå¯¹ä»“åº“ç»“æ„è¿›è¡Œåˆ›å»º
- 2021å¹´11æœˆ10æ—¥ï¼Œå¤ä¹ äº†è®¡ç®—æœºç½‘ç»œä¸­çš„TCP/IPæ¨¡å‹ï¼ŒHTTPä¸­çš„äº”ç±»å¸¸è§é¢è¯•é¢˜ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹
  - TCP/IPç½‘ç»œæ¨¡å‹ä¸­å„å±‚çš„å¤§è‡´ä½œç”¨
  - HTTPæ˜¯ä»€ä¹ˆï¼Ÿ`è¶…æ–‡æœ¬  ä¼ è¾“  åè®®`
  - HTTPä¸­çš„å¸¸è§å­—æ®µã€çŠ¶æ€ç å«ä¹‰
  - GETå’ŒPOSTçš„åŒºåˆ«ï¼ˆè¯´ä¸Šå®‰å…¨å¹‚ç­‰ï¼‰
  - HTTPçš„ç‰¹æ€§æ˜¯ä»€ä¹ˆ?`æ— çŠ¶æ€  æ˜æ–‡ä¼ è¾“`
  - HTTPå’ŒHTTPSçš„åŒºåˆ«å·²ç»HTTPä¸­å­˜åœ¨å“ªäº›å®‰å…¨é—®é¢˜ï¼ŒHTTPSæ˜¯æ€ä¹ˆè§£å†³è¿™äº›å®‰å…¨é—®é¢˜çš„
  - HTTP/1.1çš„æ€§èƒ½   `é•¿è¿æ¥   ç®¡é“ç½‘ç»œä¼ è¾“   --->  é˜Ÿå¤´é˜»å¡`
  - HTTPçš„æ¼”å˜è¿‡ç¨‹ï¼Œæ¯ä¸€æ¬¡ç‰ˆæœ¬çš„è¿­ä»£éƒ½å¯¹å‰è€…è¿›è¡Œäº†å“ªäº›ä¼˜åŒ–ï¼Œè§£å†³äº†å“ªäº›é—®é¢˜
- 2021å¹´11æœˆ11æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­ç¡¬ä»¶ç»“æ„ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹

  - å†¯è¯ºä¾æ›¼ç»“æ„ï¼Œäº”ä¸ªéƒ¨åˆ†çš„æ¦‚è¿°
  - CPUä½å®½å’Œçº¿è·¯ä½å®½ï¼Œç¡¬ä»¶çš„ä½æ•°è¡¨ç¤ºçš„æ˜¯CPUçš„ä½å®½ï¼Œè½¯ä»¶çš„ä½æ•°è¡¨ç¤ºçš„æ˜¯æŒ‡ä»¤çš„ä½æ•°ï¼Œçº¿è·¯ä½å®½è¡¨ç¤ºåœ°å€æ€»çº¿å’Œæ•°æ®æ€»çº¿çš„ä¸ªæ•°
  - æŒ‡ä»¤æ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹ï¼ŒCPU+æ§åˆ¶å•å…ƒ+ç¨‹åºè®¡æ•°å™¨+åœ°å€æ€»çº¿+æ•°æ®æ€»çº¿ --> æŒ‡ä»¤å¯„å­˜å™¨ï¼Œæ§åˆ¶å•å…ƒåˆ†ææŒ‡ä»¤ç±»å‹ --> CPUæ§åˆ¶å•å…ƒ/é€»è¾‘ç®—æœ¯å•å…ƒè¿ç®— --> å†™å›ï¼Œä»fetch -> Decode -> Excutor -> save/writeè¿™ä¸ªè¿‡ç¨‹å«åšCPUçš„æŒ‡ä»¤å‘¨æœŸ
  - æŒ‡ä»¤ï¼Œç¨‹åº --> æ±‡ç¼– --> æœºå™¨ç ï¼ŒMIPSæŒ‡ä»¤é›†ï¼Œ32ä½ï¼Œä¸åŒç±»å‹çš„æŒ‡ä»¤ï¼ˆR,I,Jå‹ï¼‰æœºå™¨ç æ ¼å¼ä¸åŒ
  - æŒ‡ä»¤çš„ç±»å‹ï¼Œæ•°æ®ä¼ è¾“æŒ‡ä»¤ï¼Œè¿ç®—æŒ‡ä»¤ï¼Œè·³è½¬æŒ‡ä»¤ï¼Œä¿¡å·ç±»å‹æŒ‡ä»¤ï¼ˆæ¯”å¦‚ä¸­æ–­ï¼‰ï¼Œé—²ç½®ç±»å‹æŒ‡ä»¤ï¼ˆnopï¼‰
  - æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦ï¼Œæ—¶é’Ÿé¢‘ç‡ï¼ˆCPUä¸»é¢‘ï¼‰ï¼Œæ—¶é’Ÿå‘¨æœŸï¼ˆè®¡ç®—æœºä¸–ç•Œä¸­æœ€å°çš„æ—¶é—´å•ä½ï¼‰ï¼Œæé«˜æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦ä¹Ÿå°±æ˜¯å‡å°‘CPUçš„æ‰§è¡Œæ—¶é—´
  - 32ä½ä¸€å®šæ¯”64ä½å¥½å—ï¼Œ64ä½çš„ä¼˜åŠ¿ï¼Ÿèƒ½å¤Ÿä¸€æ¬¡æ€§ç®—æ›´å¤§çš„æ•°ï¼Œæœ‰æ›´å¤§çš„å¯»å€ç©ºé—´


- 2021å¹´11æœˆ12æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„HTTPä¼˜åŒ–å’ŒHTTPSçš„è¿æ¥è¿‡ç¨‹

  - HTTPçš„ä¼˜åŒ–ä»ä¸‰ä¸ªæ–¹é¢ï¼šåˆ†åˆ«æ˜¯é¿å…å‘é€HTTPè¯·æ±‚ï¼ˆç¼“å­˜ï¼‰ï¼Œå‡å°‘å‘é€HTTPè¯·æ±‚ï¼ˆåˆå¹¶ï¼Œå‡å°‘é‡å®šå‘ï¼Œå»¶è¿Ÿå‘é€è¯·æ±‚ï¼‰ï¼Œå‹ç¼©æ•°æ®ï¼ˆæœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ï¼‰

  - HTTPSçš„è¿æ¥è¿‡ç¨‹ï¼Œæ¯”HTTPå¤šäº†ä¸€ä¸ªSSL/TLSè¿æ¥è¿‡ç¨‹ï¼ˆä»¥RSAå¯†é’¥åå•†ç®—æ³•ä¸ºä¾‹ï¼‰

    - ClientHelloï¼šå‘é€å®¢æˆ·ç«¯äº§ç”Ÿçš„éšæœºæ•°ï¼ŒTLSç‰ˆæœ¬å·ä»¥åŠæ”¯æŒçš„å¯†ç å¥—ä»¶åˆ—è¡¨

    - ServerHelloï¼šç¡®è®¤ç‰ˆæœ¬å·ï¼Œé€‰æ‹©å¯†ç å¥—ä»¶ï¼Œäº§ç”Ÿå¦ä¸€ä¸ªéšæœºæ•°å‘ç»™å®¢æˆ·ç«¯ï¼Œä¹‹åå‘é€ç»™å®¢æˆ·ç«¯è‡ªå·±çš„æ•°å­—è¯ä¹¦ï¼Œå…¨éƒ½å‘è¿‡å»ä¹‹åServerDone

    - change Ciper Specï¼šå…ˆæ ¡éªŒæœåŠ¡å™¨çš„æ•°å­—è¯ä¹¦ï¼Œé€šè¿‡ä¹‹åå†å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªéšæœºæ•°`pre-master`ï¼Œä¹‹åå¯¹ä¹‹å‰å‘é€è¿‡çš„ä¿¡æ¯åšä¸€ä¸ªæ‘˜è¦ï¼Œå«åš`Encrypted Handshake Message`

      **è‡³æ­¤ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ†äº«äº†ä¸‰ä¸ªéšæœºæ•°ï¼Œé€šè¿‡è¿™ä¸‰ä¸ªéšæœºæ•°ç”Ÿæˆä¼šè¯å¯†é’¥ï¼ˆMaster Secretï¼‰**

    - change Ciper Spec + Encrypted Handshake Messageï¼šå’Œå®¢æˆ·ç«¯åšä¸€æ ·çš„å·¥ä½œï¼Œå¦‚æœéƒ½æ²¡é—®é¢˜ï¼Œåç»­å°±ä½¿ç”¨ç”Ÿæˆçš„ä¼šè¯å¯†é’¥è¿›è¡ŒåŠ å¯†é€šä¿¡
  
- RSAä¸å…·å¤‡å‰å‘å®‰å…¨æ€§ï¼Œæ‰€ä»¥æ¢æˆäº†DHç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•å°±æ˜¯å®¢æˆ·ç«¯æœ‰è‡ªå·±çš„ç§é’¥å’ŒæœåŠ¡å™¨çš„å…¬é’¥ï¼ŒæœåŠ¡å™¨æœ‰è‡ªå·±çš„ç§é’¥å’Œå®¢æˆ·ç«¯çš„å…¬é’¥ï¼ŒDHç®—æ³•åˆ†æˆäº†static DHï¼ˆä¸ä½¿ç”¨äº†ï¼ŒåŒæ ·ä¸å…·å¤‡å‰å‘å®‰å…¨æ€§ï¼‰ï¼ŒDHEç®—æ³•ï¼ˆè™½ç„¶å…·å¤‡äº†å‰å‘å®‰å…¨æ€§ï¼Œä½†æ˜¯è®¡ç®—è¿‡ç¨‹å¤ªå¤æ‚ï¼Œæ•ˆç‡ä½ï¼‰ï¼ŒECDHEç®—æ³•ï¼ˆç°åœ¨ç”¨çš„æ¯”è¾ƒå¤šï¼Œå…·å¤‡å‰å‘å®‰å…¨æ€§ï¼Œæ•ˆç‡ä¹Ÿè¿˜ä¸é”™ï¼‰
  

    > å¦‚æœä½¿ç”¨çš„æ˜¯ECDHEï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶ä¼šæ¯”RSAå¤šä¸€æ­¥ï¼Œå¤šå‡ºæ¥çš„è¿™ä¸€æ­¥ä¼šç”Ÿæˆæ¤­åœ†æ›²çº¿çš„åŸºç‚¹Gï¼ŒæœåŠ¡ç«¯æ¤­åœ†æ›²çº¿çš„å…¬é’¥ï¼Œä»¥åŠä½¿ç”¨çš„æ¤­åœ†æ›²çº¿ï¼ˆä¸‹ä¸€æ­¥ä¸­ï¼Œå®¢æˆ·ç«¯ä¼šç”Ÿæˆä¸€ä¸ªéšæœºæ•°ä½œä¸ºç§é’¥ï¼Œé€šè¿‡è¿™ä¸ªæ¤­åœ†æ›²çº¿ç®—å‡ºå…¬é’¥å‘ç»™æœåŠ¡ç«¯ï¼‰

- 2021å¹´11æœˆ13æ—¥ï¼Œè¡¥ä¸Šäº†å‰ä¸€å¤©çš„ç½‘ç»œçŸ¥è¯†ï¼ˆå†™åˆ°äº†day03.mdï¼‰ï¼Œä¸åŒçš„å¯†é’¥åå•†ç®—æ³•TLSæ¡æ‰‹è¿‡ç¨‹çš„åŒºåˆ«ï¼Œä¸‹åˆå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„å­˜å‚¨å™¨ï¼ŒCPUå¯¹å†…å­˜æ•°æ®çš„è¯»å†™ä»¥åŠæ€ä¹ˆæ ·å†™å‡ºè®©CPUè¿ç®—æ›´å¿«çš„ä»£ç 

  ```
  è®¡ç®—æœºç½‘ç»œ
  RSAæ˜¯æ¯”è¾ƒç®€å•çš„å¯†é’¥åå•†ç®—æ³•ï¼Œä½†æ˜¯ä»–å¹¶ä¸å…·å¤‡å‰å‘å®‰å…¨æ€§ï¼Œå› æ­¤åˆæå‡ºäº†DHç®—æ³•
  DHç®—æ³•åˆ†ä¸º static DHï¼ˆå·²åºŸå¼ƒï¼‰å’ŒDHEç®—æ³•ï¼ˆç›®å‰å¸¸ç”¨ï¼‰
  è€Œç›®å‰å¦ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ECDHEç®—æ³•ï¼Œè¿™ä¸ªå¯†é’¥åå•†ç®—æ³•æ¯”RSAåœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹çš„æ—¶å€™å¤šäº†ä¸€ä¸ªserver Key exchangeè®°å½•ï¼Œè€Œä¸”ä»–å…·å¤‡å‰å‘å®‰å…¨æ€§ï¼Œè€Œä¸”é€šè¿‡æ¤­åœ†æ›²çº¿è§£å†³äº†DHEç®—æ³•è®¡ç®—è¾ƒæ…¢çš„é—®é¢˜ï¼Œè€Œä¸”ä»–è¿˜èƒ½å¤Ÿåœ¨TLSç¬¬å››æ¬¡æ¡æ‰‹ä¹‹å‰å‘é€application dataï¼Œä¹Ÿå°±æ˜¯TLS False Start
  
  
  æ“ä½œç³»ç»Ÿ
  CPU Cacheçš„æ•°æ®ç»“æ„å’Œè¯»å–è¿‡ç¨‹ï¼Œå†…å­˜åœ°å€æ˜¯ç”±ç´¢å¼•å· + tag(ç»„æ ‡è®°) + åç§»é‡ç»„æˆï¼Œè€ŒCPU Cacheæ˜¯ç”±ç´¢å¼•å· + tag + æœ‰æ•ˆä½ + å®é™…æ•°æ®ç»„æˆ
  å¦‚ä½•å†™å‡ºè®©CPUè·‘åˆ°æ›´å¿«çš„ä»£ç ï¼ˆå’Œæé«˜ç¼“å­˜å‘½ä¸­ç‡é—®é¢˜ä¸€æ ·ï¼‰ï¼Œå› ä¸ºL1 Cacheåˆ†æˆäº†æ•°æ®ç¼“å­˜å’ŒæŒ‡ä»¤ç¼“å­˜
  æ‰€ä»¥è¦ä»ä¸¤ä¸ªæ–¹é¢ï¼šä¸€æ˜¯æé«˜æ•°æ®ç¼“å­˜å‘½ä¸­ç‡ï¼Œè€Œæ˜¯æé«˜æŒ‡ä»¤ç¼“å­˜å‘½ä¸­ç‡
  é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘å¤šæ ¸CPUçš„ç¼“å­˜å‘½ä¸­ç‡çš„æé«˜
  ```


- 2021å¹´11æœˆ14æ—¥ï¼Œå¤ä¹ äº†è®¡ç®—æœºç½‘ç»œä¸­å¯¹HTTPSçš„ä¼˜åŒ–ä»¥åŠæ“ä½œç³»ç»Ÿä¸­ä¿è¯å†…å­˜å’ŒCPU Cacheæ•°æ®ä¸€è‡´æ€§ ä»¥åŠ ä¸åŒCPUæ ¸å¿ƒçš„Cacheä¸€è‡´æ€§ çš„æ–¹æ³•

  - é¦–å…ˆæ˜¯è®¡ç®—æœºç½‘ç»œå¯¹äºHTTPSçš„ä¼˜åŒ–ï¼Œç›¸æ¯”äºHTTPï¼ŒHTTPSçš„æ€§èƒ½å¼€é”€ä¸»è¦åœ¨ä¸¤ä¸ªæ–¹é¢ï¼šTLSæ¡æ‰‹è¿‡ç¨‹å’ŒåŠ å¯†é€šä¿¡ï¼Œä¼˜åŒ–æ–¹æ³•å…±æœ‰5ä¸ªæ–¹é¢
    - ç¡¬ä»¶ä¼˜åŒ–ï¼ŒHTTPSæ˜¯è®¡ç®—å¯†é›†å‹ï¼Œæ‰€ä»¥è¦é€‰æ‹©å¥½çš„CPUï¼ŒåŒæ—¶å°½é‡é€‰æ‹©æ”¯æŒ`AES-NI`çš„CPU
    - è½¯ä»¶ä¼˜åŒ–ï¼Œå°†è½¯ä»¶å‡çº§ï¼Œå¯èƒ½æä¾›ä¸€äº›æ›´å¥½çš„åŠŸèƒ½ï¼Œä¿®å¤bugç­‰
    - åè®®ä¼˜åŒ–ï¼šå¯†é’¥åå•†ç®—æ³•å°½é‡é€‰æ‹©ECDHEç®—æ³•ï¼›å°†TLS1.2å‡çº§è‡³1.3ï¼ˆ2RTT--->1RTTï¼‰
    - è¯ä¹¦ä¼˜åŒ–ï¼šä¼ è¾“è¿‡ç¨‹ä¸­ä¼˜åŒ–ï¼ˆé€‰æ‹©ECDHEï¼Œç›¸åŒå®‰å…¨å¼ºåº¦ä¸‹å¯†é’¥çŸ­ï¼Œæ‰€ä»¥è¯ä¹¦å°ï¼‰ï¼›éªŒè¯è¿‡ç¨‹ä¼˜åŒ–ï¼ˆCRL --> OCSP --> OCSP Staplingï¼‰
    - ä¼šè¯å¤ç”¨ï¼šsession id -->  session ticket --> pre-shared keyï¼ˆTLS1.3ä¸­æ‰æœ‰ï¼‰
  - ç„¶åæ˜¯æ“ä½œç³»ç»Ÿï¼Œä»Šå¤©ä¸»è¦å¤ä¹ äº†ä»¥ä¸‹å†…å®¹
    - CPU Cacheå’Œå†…å­˜ä¸­æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä¿è¯ä¸€è‡´æ€§çš„ä¸¤ç§æ–¹æ³•ï¼šå†™ç›´è¾¾ï¼ˆwrite throughï¼‰ï¼Œå†™å›ï¼ˆwrite backï¼‰
    - CPUä¸åŒæ ¸å¿ƒä¹‹é—´çš„ç¼“å­˜ä¸€è‡´æ€§ï¼Œéœ€è¦å®ç°ä¸¤ç‚¹ï¼šå†™ä¼ æ’­å’Œäº‹åŠ¡ä¸²è¡ŒåŒ–ï¼Œå†™ä¼ æ’­å¯ä»¥é€šè¿‡æ€»çº¿å—…æ¢æ¥å®Œæˆï¼Œä½†æ˜¯æ€»çº¿å—…æ¢ä¸èƒ½å¤Ÿå®ç°äº‹åŠ¡ä¸²è¡ŒåŒ–è€Œä¸”å¼€é”€è¾ƒå¤§ï¼Œæ‰€ä»¥æœ‰äº†ä¸€ç§åŸºäºæ€»çº¿å—…æ¢çš„MESIåè®®æ¥å®ç°ä¸Šè¿°ä¸¤ç‚¹ï¼ŒModifiedï¼ŒExclusiveï¼ŒSharedï¼ŒInvalidateï¼Œé€šè¿‡çŠ¶æ€æœºä¹‹é—´çš„è½¬åŒ–èƒ½å¤Ÿå‡è½»æ€»çº¿å‹åŠ›

  

- 2021å¹´11æœˆ15æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„HTTP/2ï¼Œå®ƒçš„å‰å®³ä¹‹å¤„æ€»å…±æœ‰äº”ä¸ªéƒ¨åˆ†ï¼š
  - é¦–å…ˆæ˜¯åšåˆ°äº†å¯¹HTTP/1.1çš„å‘ä¸Šå…¼å®¹ï¼Œæ²¡æœ‰æ”¹å˜è¯­ä¹‰å±‚ï¼Œåœ¨æµè§ˆå™¨æˆ–è€…å®¢æˆ·ç«¯èƒŒåæ‚„æ‚„å‡çº§
  - ç¬¬äºŒæ˜¯ä½¿ç”¨äº†HPACKå¤´éƒ¨å‹ç¼©ç®—æ³•ï¼Œå‡è½»äº†å¸¦å®½å‹åŠ›ï¼Œå‡å°‘äº†å†—ä½™çš„å¤´éƒ¨ä¼ è¾“
  - ç¬¬ä¸‰æ˜¯ä½¿ç”¨äºŒè¿›åˆ¶å¸§ï¼Œå°†HTTP/1.1ä¸­çš„æ–‡æœ¬ä¼ è¾“æ ¼å¼å˜æˆäº†äºŒè¿›åˆ¶å¸§ä¼ è¾“æ ¼å¼ï¼Œæ›´æœ‰åˆ©äºè®¡ç®—æœºçš„ç†è§£
  - ç¬¬å››æ˜¯ä½¿ç”¨streamå®Œæˆå¹¶å‘ä¼ è¾“ï¼Œå¤šä¸ªstreamä¸­çš„frameå¯ä»¥ä¹±åºä¼ è¾“ï¼Œä½†æ˜¯åŒä¸€ä¸ªstreamä¸­çš„frameå¿…é¡»æ˜¯æœ‰åºçš„
  - ç¬¬äº”æ˜¯æœåŠ¡å™¨èƒ½å¤Ÿä¸»åŠ¨æ¨é€èµ„æºï¼Œå‡å°‘äº†HTTPè¯·æ±‚çš„æ•°é‡

  > :x: å·æ‡’çš„ä¸€å¤©

- 2021å¹´11æœˆ16æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„ä¼ªå…±äº«å’ŒCPUæ˜¯å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„ï¼›ç½‘ç»œä¸­çš„HTTP/3

  - :blue_book:æ“ä½œç³»ç»Ÿ
    - ä¼ªå…±äº«ï¼šå¤šä¸ªæ ¸å¿ƒä¸­çš„çº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªblockä¸­çš„ä¸åŒå˜é‡ï¼Œä¼šå¯¼è‡´cacheå¤±æ•ˆï¼Œé¢‘ç¹åœ°ä¸å†…å­˜äº¤äº’ï¼Œè§£å†³æ–¹æ³•ç”±å­—èŠ‚å¯¹é½å’Œå­—èŠ‚å¡«å……
    - CPUæ˜¯å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„ï¼Ÿå†…æ ¸ä¸­æœ‰3ä¸ªè°ƒåº¦ç±»ï¼Œå¯¹åº”äº†3ä¸ªè°ƒåº¦å™¨å’Œ5ç§è°ƒåº¦ç­–ç•¥ï¼Œåˆ†åˆ«æ˜¯`Deadline,Runtime,CFS`ï¼Œå‰ä¸¤ä¸ªæ˜¯é’ˆå¯¹å®æ—¶ä»»åŠ¡ï¼ˆä¼˜å…ˆçº§0-99ï¼‰ï¼ŒCFSæ˜¯é’ˆå¯¹æ™®é€šä»»åŠ¡ï¼ˆä¼˜å…ˆçº§100-139ï¼‰ï¼Œå†…æ ¸ä¸­çš„çº¿ç¨‹éƒ½è¢«æ”¾åˆ°äº†ä¸€ä¸ªè¿è¡Œé˜Ÿåˆ—ä¸­ï¼Œå³`rq`ï¼Œè¿™ä¸ª`rq`åˆ†æˆäº†ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯`dl_rq,rt_rq,cfs_rq`ï¼Œä¼˜å…ˆçº§ä¾æ¬¡é™ä½ï¼Œä¹Ÿå°±æ˜¯è¯´CPUä¼šé¦–å…ˆè°ƒåº¦dl_rqä¸­çš„çº¿ç¨‹ï¼Œä¾æ¬¡ç±»æ¨ï¼Œ`cfs_rq`çš„æ•°æ®ç»“æ„æ˜¯çº¢é»‘æ ‘ï¼Œå¯¹äºæ™®é€šä»»åŠ¡æ¥è¯´ï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡niceè°ƒæ•´ä¼˜å…ˆçº§çš„ï¼Œï¼ˆniceæ˜¯ä¼˜å…ˆçº§çš„ä¿®æ­£å‚æ•°ï¼‰
  - :closed_book:ç½‘ç»œ
    - ä»Šå¤©ä¸»è¦å¤ä¹ äº†HTTP/3ï¼Œå®ƒé€šè¿‡å°†åº•å±‚çš„TCPæ›´æ¢æˆUDPï¼ˆQUICåè®®ï¼‰è§£å†³äº†HTTP/2ä¸­å­˜åœ¨çš„é—®é¢˜ï¼šé˜Ÿå¤´é˜»å¡ï¼ˆä¸ä¼šé˜»å¡å…¨éƒ¨è¯·æ±‚ï¼Œåªä¼šé˜»å¡å•ä¸ªçš„streamï¼‰ï¼ŒTCPå’ŒTLSæ¡æ‰‹å¯¼è‡´çš„å»¶è¿Ÿï¼ˆUDPæ— è¿æ¥ï¼ŒTLSå‡çº§æˆäº†1.3ï¼Œåªéœ€è¦1ä¸ªRTTï¼Œåç»­è¿æ¥è¿˜å¯ä»¥ä½¿ç”¨pre-shared keyï¼‰ï¼Œç½‘ç»œè¿ç§»éœ€è¦é‡æ–°è¿æ¥ï¼ˆç”¨è¿æ¥idï¼‰è¿™ä¸‰ä¸ªé—®é¢˜ï¼ŒåŒæ—¶è¿˜åœ¨åº”ç”¨å±‚å¯¹HTTP/2ä¸­çš„é—®é¢˜è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚å°†HPACKæ›´æ¢æˆäº†QPACKï¼ŒQPACKä½¿ç”¨ä¸¤ä¸ªå•å‘æµè§£å†³äº†HPACKä¸­å­˜åœ¨çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼›ç®€åŒ–äº†HTTP/2ä¸­äºŒè¿›åˆ¶å¸§æ ¼å¼ï¼ˆåªæœ‰å¸§ç±»å‹å’Œæ•°æ®é•¿åº¦äº†ï¼‰
  
- 2021å¹´11æœˆ17æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„è½¯ä¸­æ–­ï¼›ç½‘ç»œä¸­çš„TCPå¸¸è§é—®é¢˜ï¼Œä¸‰æ¬¡æ¡æ‰‹ä»¥åŠSYNæ”»å‡»


  - :blue_book:æ“ä½œç³»ç»Ÿ


    - ä¸­æ–­æ˜¯æ“ä½œç³»ç»Ÿç”¨æ¥å“åº”ç¡¬ä»¶è®¾å¤‡è¯·æ±‚çš„ä¸€ç§æœºåˆ¶ï¼Œæ“ä½œç³»ç»Ÿæ”¶åˆ°ä¸­æ–­è¯·æ±‚ä¹‹åä¼šç«‹åˆ»åœæ­¢CPUç›®å‰æ­£åœ¨è¿›è¡Œçš„å·¥ä½œï¼Œå»å¤„ç†ä¸­æ–­ï¼Œè€Œä¸”å¤„ç†ä¸­æ–­è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå…³é—­å…¶ä»–çš„ä¸­æ–­è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœæœ‰å…¶ä»–çš„ä¸­æ–­è¯·æ±‚åˆ°æ¥ï¼Œå¯èƒ½ä¼šä¸¢å¤±ï¼›å› æ­¤ä¸ºäº†å‡å°‘å¯¹æ­£å¸¸è¿›ç¨‹çš„å½±å“å’Œå‡å°‘ä¸­æ–­ä¸¢å¤±ï¼Œä¸­æ–­å¤„ç†ç¨‹åºè¦çŸ­ä¸”å°½å¯èƒ½åœ°å¿«
    
    - è½¯ä¸­æ–­æ˜¯ä¸­æ–­çš„ä¸‹åŠéƒ¨åˆ†ï¼Œä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜æ“ä½œç³»ç»ŸæŠŠä¸­æ–­åˆ†æˆäº†ä¸Šä¸‹ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ç¡¬ä¸­æ–­ï¼Œç›´æ¥å¤„ç†ç¡¬ä»¶è¯·æ±‚ï¼Œè€—æ—¶çŸ­ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯è½¯ä¸­æ–­ï¼Œå°†ä¸€äº›è€—æ—¶çš„æ“ä½œäº¤ç»™è½¯ä¸­æ–­æ¥å¤„ç†ï¼Œè½¯ä¸­æ–­æ˜¯å†…æ ¸çº¿ç¨‹ï¼Œæ¯ä¸ªCPUæ ¸å¿ƒéƒ½æœ‰ä¸€ä¸ª
    
      æ¯”å¦‚ç½‘å¡æ¥æ”¶ç½‘ç»œåŒ…ï¼Œç¡¬ä¸­æ–­å°†ç½‘å¡é©±åŠ¨ä¸­çš„ç½‘ç»œåŒ…è¯»åˆ°å†…å­˜ä¸­ï¼Œè½¯ä¸­æ–­æ ¹æ®ç½‘ç»œåè®®æ ˆå°†åŒ…æ‰“å¼€ï¼Œç›´è‡³å‘ç»™åº”ç”¨ç¨‹åº

  - :closed_book:ç½‘ç»œ


    - TCPä¸­çš„å¸¸è§é—®é¢˜ï¼Œæ¯”å¦‚TCPçš„å¤´éƒ¨æ ¼å¼ï¼Œä¸ºä»€ä¹ˆéœ€è¦TCPåè®®ï¼ˆIPå±‚ä¸å¯é ï¼‰ï¼Œä»€ä¹ˆæ˜¯TCPåè®®ï¼ˆé¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµä¼ è¾“çš„ï¼‰ï¼Œä»€ä¹ˆæ˜¯TCPè¿æ¥ï¼ˆåºåˆ—å·ï¼Œsocketï¼Œçª—å£å¤§å°ï¼‰ï¼Œå¦‚ä½•ç¡®å®šä¸€ä¸ªå”¯ä¸€çš„TCPè¿æ¥ï¼ˆå››å…ƒç»„ï¼‰ï¼Œ**TCPå’ŒUDPçš„åŒºåˆ«ï¼Œåˆ†åˆ«çš„åº”ç”¨åœºæ™¯ï¼ˆé‡è¦ï¼ï¼‰**ï¼Œ
    - TCPä¸‰æ¬¡æ¡æ‰‹ï¼ˆSYN(Seq=Client_isn),SYN+ACK(Seq=Server_isn,ack=Client_isn+1),ACK(Server_isn+1)ï¼‰
    - SYNæ”»å‡»ï¼ˆå æ»¡SYNé˜Ÿåˆ—ï¼Œè§£å†³æ–¹å¼å‡è®¾é˜²ç«å¢™ï¼ŒCookieï¼Œä¿®æ”¹å†…æ ¸å‚æ•°ï¼ŒåŠè¿æ¥é˜Ÿåˆ—æ»¡äº†ä¹‹åå°±ç»™æ–°çš„è¿æ¥å‘é€RSTï¼‰



- 2021å¹´11æœˆ18æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿçš„è´Ÿæ•°è¡¥ç å’Œå†…æ ¸ç­‰çŸ¥è¯†

  - ä¸ºä»€ä¹ˆè´Ÿæ•°è¦ç”¨è¡¥ç æ¥è¡¨ç¤ºï¼ˆå› ä¸ºå¦‚æœä¸ç”¨è¡¥ç çš„è¯ï¼Œè¿˜éœ€è¦åŠ ä¸€å±‚åˆ¤æ–­ï¼Œå¦‚æœæ˜¯è´Ÿæ•°çš„è¯ï¼Œéœ€è¦æŠŠåŠ æ³•è½¬æˆå‡æ³•ï¼Œå‡æ³•è½¬æˆåŠ æ³•ï¼‰

  - åè¿›åˆ¶å°æ•°æ€ä¹ˆè½¬åŒ–æˆ2è¿›åˆ¶ï¼ˆä¹˜2å–æ•´ï¼‰

  - è®¡ç®—æœºä¸­æ˜¯æ€ä¹ˆå­˜å‚¨äºŒè¿›åˆ¶å°æ•°ï¼ˆæµ®ç‚¹æ•°ï¼Œç±»ä¼¼äºç§‘å­¦è®¡æ•°æ³•ï¼Œç¬¦å·ä½ + æŒ‡æ•°ä½ + å°¾æ•°ä½ï¼‰

    - ç¬¦å·ä½0è¡¨ç¤ºæ­£æ•°ï¼Œ1è¡¨ç¤ºè´Ÿæ•°
    - æŒ‡æ•°ä½è¡¨ç¤ºå°æ•°ç‚¹åœ¨å°¾æ•°ä¸­çš„ä½ç½®ï¼ŒæŒ‡æ•°ä½è¶Šå¤§ï¼Œèƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´å°±è¶Šå¤§
    - å°¾æ•°ä½è¡¨ç¤ºç²¾åº¦ï¼Œå°¾æ•°ä½è¶Šé•¿ï¼Œç²¾åº¦è¶Šé«˜

  - ä¸ºä»€ä¹ˆ0.1+0.2ä¸ç­‰äº0.3ï¼Œå› ä¸ºåè¿›åˆ¶çš„0.1å’Œ0.2åœ¨è®¡ç®—æœºä¸­è½¬åŒ–æˆ2è¿›åˆ¶ä¹‹åï¼Œæ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œè®¡ç®—æœºåªèƒ½å¤Ÿå­˜å‚¨ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œè¿™ä¹Ÿå°±å¯¼è‡´äº†æµ®ç‚¹æ•°çš„ç²¾åº¦æŸå¤±

  - Linuxå†…æ ¸ V.S. Windowså†…æ ¸

    - å†…æ ¸çš„åŠŸèƒ½ï¼šè¿›ç¨‹ç®¡ç†ã€å†…å­˜ç®¡ç†ã€ç¡¬ä»¶é€šä¿¡ç®¡ç†ã€æä¾›ç³»ç»Ÿè°ƒç”¨
    - Linuxå†…æ ¸ï¼šå®å†…æ ¸ï¼Œå¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ELFï¼ŒMultiTaskï¼ŒSMPï¼ˆå¯¹ç§°ä»»åŠ¡å¤„ç†ï¼ŒCPUåœ°ä½ä¸€æ ·ï¼‰
    - Windowså†…æ ¸ï¼šæ··åˆå†…æ ¸ï¼ˆå¾®å†…æ ¸ + å®å†…æ ¸ï¼‰ï¼Œå¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼PEï¼ŒMultiTaskï¼ŒSMPï¼ˆå¯¹ç§°ä»»åŠ¡å¤„ç†ï¼ŒCPUåœ°ä½ä¸€æ ·ï¼‰

    å®å†…æ ¸çš„æ„æ€å°±æ˜¯è¿™ä¸ªå†…æ ¸ä¸­åŒ…å«äº†å…¨éƒ¨çš„å·¥ä½œï¼Œæ¯”å¦‚è¿›ç¨‹ç®¡ç†ã€æ–‡ä»¶ç³»ç»Ÿã€å†…å­˜ç®¡ç†ç­‰ï¼Œä»–æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œä»£è¡¨ä½œLinux

    å¾®å†…æ ¸å°±æ˜¯åªä¿ç•™ä¸€ä¸ªæœ€åŸºæœ¬çš„å¯æ‰§è¡Œå•å…ƒï¼Œå…¶ä»–çš„æ”¾åˆ°ç”¨æˆ·ç©ºé—´ï¼Œä»£è¡¨ä½œåä¸ºçš„é¸¿è’™OS

    æ··åˆå†…æ ¸å°±æ˜¯ä¸€ä¸ªå¾®å†…æ ¸å¤–é¢å¥—ç€ä¸€ä¸ªå®å†…æ ¸ï¼Œä»£è¡¨ä½œWindows
  
- 2021å¹´11æœˆ19æ—¥ï¼Œå¤ä¹ äº†è®¡ç®—æœºç½‘ç»œä¸­çš„TCPå››æ¬¡æŒ¥æ‰‹

  - TCPå››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼ˆFIN,ACK,FIN,ACKï¼‰

  - ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼ˆè¢«åŠ¨æ–­å¼€æ–¹å¯èƒ½æœ‰æ•°æ®æ²¡æœ‰å¤„ç†å®Œï¼‰

  - ä¸ºä»€ä¹ˆè¦æœ‰TIME_WAITçŠ¶æ€ï¼ŒTIME_WAITçš„æ—¶é—´ä¸ºä»€ä¹ˆæ˜¯2MSL

    - é¿å…å†å²çš„è¿æ¥çš„æ•°æ®åŒ…è¢«æ–°è¿æ¥æ”¶åˆ°ï¼Œé€ æˆæ•°æ®æ··ä¹±
    - ä¿è¯è¿æ¥æ­£ç¡®å…³é—­ï¼ˆæœ‰å¯èƒ½è¢«åŠ¨æ–­å¼€æ–¹æ²¡æœ‰æ”¶åˆ°ACKï¼Œé‡å‘FINï¼‰

  - TIME_WAITæ—¶é—´è¿‡é•¿æœ‰å“ªäº›å±å®³

    - å¦‚æœå®¢æˆ·ç«¯æ˜¯ä¸»åŠ¨æ–­å¼€æ–¹ï¼šæœ‰å¯èƒ½å¯¼è‡´å®¢æˆ·ç«¯ç«¯å£ä¸å¤Ÿç”¨äº†ï¼Œå…¨éƒ½è¢«å¤„äºTIME_WAITçŠ¶æ€çš„è¿æ¥å ç”¨ï¼Œæ²¡åŠæ³•å»ºç«‹æ–°è¿æ¥
    - å¦‚æœæœåŠ¡å™¨æ˜¯ä¸»åŠ¨æ–­å¼€æ–¹ï¼šæœ‰å¯èƒ½å¯¼è‡´æœåŠ¡å™¨çº¿ç¨‹æ± èµ„æºè€—å°½ï¼Œæ— æ³•å¤„ç†æ–°çš„è¯·æ±‚ï¼Œå› ä¸ºå³ä½¿å¤„äºTIME_WAITçŠ¶æ€çš„è¿æ¥ï¼Œä»ç„¶éœ€è¦çº¿ç¨‹æ¥ç»´æŒä»–çš„çŠ¶æ€

  - å¦‚æœä¼˜åŒ–TIME_WAIT

    - `tcp_tw_reuse + timestamp`é‡ç”¨time_waitçŠ¶æ€çš„è¿æ¥ï¼Œä½¿ç”¨æ—¶é—´æˆ³æ¥åŒºåˆ†æ˜¯ä¸æ˜¯å†å²æ•°æ®åŒ…
    - `tcp_max_tw_buckets`è¿™ä¸ªå‚æ•°è¡¨ç¤ºæœ€å¤šå¯ä»¥å¤„äºTIME_WAITçŠ¶æ€ï¼Œä¸€æ—¦è¶…è¿‡äº†è¿™ä¸ªæ•°å°±ä¼šé‡ç½®è¿æ¥
    - è®¾ç½®socketé€‰é¡¹ï¼Œé€šè¿‡è°ƒç”¨closeå¯ä»¥è·³è¿‡å››æ¬¡æŒ¥æ‰‹ï¼Œå¾ˆå±é™©

  - å¦‚æœè¿æ¥è¿‡ç¨‹ä¸­æœ‰ä¸€ä¸ªæ‰çº¿äº†ï¼Œå¦‚æœåœ¨çº¿çš„ä¸€æ–¹å¼€å¯äº†ä¿æ´»æœºåˆ¶ï¼Œé‚£ä¹ˆä¼šå‘æ‰çº¿çš„ä¸€æ–¹å‘é€æ¢æµ‹æŠ¥æ–‡  ï¼ˆ2å°æ—¶  75ç§’  9æ¬¡ï¼‰

    ä¿æ´»æœºåˆ¶æ¯”è¾ƒæœ‰äº‰è®®ï¼ä¸¤ä¸ªç¼ºç‚¹ï¼šæœ‰å¯èƒ½ç”±äºç½‘ç»œçŸ­æš‚å‡ºç°é”™è¯¯ï¼Œå¯¼è‡´å¥½çš„è¿æ¥æ–­å¼€ï¼›å¢åŠ ç½‘ç»œå¸¦å®½è´Ÿæ‹…ï¼Œæœ‰äººè®¤ä¸ºä»–åº”è¯¥åœ¨åº”ç”¨å±‚å®ç°ï¼Œæœ‰äººè®¤ä¸ºä»–å°±åº”è¯¥åœ¨TCPåè®®å±‚å®ç°

- 2021å¹´11æœˆ20æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„Socketç¼–ç¨‹å’Œæ“ä½œç³»ç»Ÿä¸­çš„å†…å­˜ç®¡ç†æœºåˆ¶

  - :blue_book:æ“ä½œç³»ç»Ÿ

    ç›´æ¥æ“ä½œç‰©ç†åœ°å€æ²¡æœ‰åŠæ³•åšåˆ°å¤šä¸ªè¿›ç¨‹åŒæ—¶æ‰§è¡Œï¼Œæ‰€ä»¥å°±å¼•å…¥äº†è™šæ‹Ÿåœ°å€

    - åˆ†æ®µæœºåˆ¶ï¼ŒæŠŠç¨‹åºåˆ†æˆå››ä¸ªæ®µï¼šä»£ç æ®µã€æ•°æ®æ®µã€å †æ®µã€æ ˆæ®µï¼Œè™šæ‹Ÿåœ°å€è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼šæ®µé€‰æ‹©å› å­+æ®µå†…åç§»é‡ï¼Œå…¶ä¸­æ®µé€‰æ‹©å› å­ä¸­åŒ…æ‹¬æ®µå·ï¼Œç‰¹æ®Šæƒé™æ ‡è®°ç­‰ï¼ŒçŸ­å·æ˜¯æœ€é‡è¦çš„ï¼Œæ¯ä¸ªæ®µçš„å¤§å°ä¸å›ºå®š
    - åˆ†é¡µæœºåˆ¶ï¼Œå°†è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€éƒ½åŒ–æˆå›ºå®šå¤§å°çš„é¡µï¼ŒLinuxä¸­æ¯é¡µä¸º4KBï¼Œè™šæ‹Ÿåœ°å€åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼šé¡µå· + é¡µå†…åç§»é‡ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å¯¹åº”ä¸€ä¸ªé¡µè¡¨ï¼Œä¸ºäº†è§£å†³ç©ºé—´é—®é¢˜ï¼Œé‡‡å–å¤šçº§é¡µè¡¨ï¼Œä¸ºäº†è§£å†³å¤šçº§é¡µè¡¨ä¸­å­˜åœ¨çš„æ—¶é—´é—®é¢˜ï¼ˆå¤šäº†åœ°å€è½¬æ¢çš„è¿‡ç¨‹ï¼‰ï¼Œé‡‡ç”¨äº†TLBå¿«è¡¨
    - æ®µé¡µå¼ç®¡ç†ï¼Œæ¯ä¸ªç¨‹åºå¯¹åº”ä¸€ä¸ªæ®µè¡¨ï¼Œæ®µè¡¨ä¸­çš„æ¯ä¸€é¡¹å¯¹åº”ä¸€ä¸ªé¡µè¡¨ï¼Œæ®µè¡¨ä¸­å­˜æ”¾çš„æ˜¯é¡µè¡¨çš„èµ·å§‹åœ°å€ï¼Œé¡µè¡¨ä¸­å­˜æ”¾çš„æ˜¯ç‰©ç†åœ°å€

    Linuxå†…å­˜ç®¡ç†ä¸»è¦é‡‡ç”¨çš„æ˜¯åˆ†é¡µæœºåˆ¶ï¼Œä½†æ˜¯ç”±äºIntel CPUå‘å±•çš„ç¼˜æ•…ï¼Œç»•ä¸å¼€åˆ†æ®µçš„æ€æƒ³ï¼Œå› æ­¤ä»–å°†æ¯æ®µçš„åœ°å€éƒ½è®¾ç½®æˆäº†ä»0åˆ°4Gï¼ˆ32ä½ï¼‰ï¼Œè¿™æ ·æ¯ä¸ªç¨‹åºéƒ½ç›¸å½“äºé¢å¯¹çš„æ˜¯çº¿æ€§åœ°å€

  - :closed_book:ç½‘ç»œ

    socketç¼–ç¨‹ä¸­çš„æ–¹æ³•ä½¿ç”¨é˜¶æ®µ

    åœ¨ä¸‰æ¬¡æ¡æ‰‹çš„æ—¶å€™ï¼Œconnectçš„æˆåŠŸè¿”å›æ˜¯åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹ç»“æŸä¹‹åï¼ˆæœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯ACK+SYNï¼‰ï¼Œacceptçš„æˆåŠŸè¿”å›æ˜¯åœ¨ä¸‰æ¬¡æ¡æ‰‹ç»“æŸä¹‹åï¼Œè¿æ¥æˆåŠŸä¹‹å

    åœ¨å››æ¬¡æŒ¥æ‰‹çš„æ—¶å€™ï¼Œä¸»åŠ¨æ–­å¼€æ–¹ï¼ˆå‡è®¾æ˜¯å®¢æˆ·ç«¯ï¼‰è°ƒç”¨closeï¼Œåœ¨ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹**çš„æ—¶å€™**ï¼ŒæœåŠ¡å™¨å‘é€FINæŠ¥æ–‡ï¼Œè°ƒç”¨closeï¼Œå…³é—­è¿æ¥ï¼Œè¡¨ç¤ºæ²¡æœ‰æ•°æ®è¦å‘é€äº†

- 2021å¹´11æœˆ21æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹å’Œçº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µä»¥åŠæ¨¡å‹ï¼›ç½‘ç»œä¸­çš„TCPé‡ä¼ æœºåˆ¶å’Œæ»‘åŠ¨çª—å£

  - :blue_book:æ“ä½œç³»ç»Ÿ

    - è¿›ç¨‹ï¼Œç¨‹åºçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œ

      - è¿›ç¨‹çš„çŠ¶æ€ï¼šåˆ›å»º å°±ç»ª è¿è¡Œ é˜»å¡ ç»ˆæ­¢ æŒ‚èµ·
      - è¿›ç¨‹çš„æ•°æ®ç»“æ„PCBï¼šè¿›ç¨‹æ ‡è¯†ç¬¦ï¼Œç”¨æˆ·æ ‡è¯†ç¬¦ï¼Œèµ„æºæ¸…å•ï¼Œä¿å­˜çš„CPUçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¼˜å…ˆçº§ï¼Œå½“å‰çŠ¶æ€ç­‰ä¿¡æ¯
      - è¿›ç¨‹æ§åˆ¶ï¼šåˆ›å»ºã€ç»ˆæ­¢ã€æŒ‚èµ·ã€å”¤é†’ç­‰çŠ¶æ€çš„è½¬åŒ–è¿‡ç¨‹
      - è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šCPUä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆä¿å­˜å‰ä¸€æ¬¡æ‰§è¡Œçš„ä¿¡æ¯ï¼ŒCPUæŒ‡ä»¤å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨ï¼ŒåŠ è½½æœ¬æ¬¡çš„ä¿¡æ¯ï¼‰ï¼Œè¿›ç¨‹ä¸Šä¸‹æ–‡çš„åˆ‡æ¢æ˜¯ç”±å†…æ ¸ç®¡ç†ï¼Œæ‰€ä»¥æ—¢éœ€è¦ç”¨æˆ·ç©ºé—´çš„èµ„æºåˆ‡æ¢ï¼Œæ¯”å¦‚è™šæ‹Ÿç©ºé—´ã€æ ˆã€å…¨å±€å˜é‡ç­‰èµ„æºï¼Œè¿˜éœ€è¦å†…æ ¸ç©ºé—´çš„èµ„æºåˆ‡æ¢ï¼Œæ¯”å¦‚å†…æ ¸å †æ ˆã€å¯„å­˜å™¨ç­‰èµ„æº

    - çº¿ç¨‹ï¼Œè¿›ç¨‹çš„ä¸€æ¡æ‰§è¡Œæµç¨‹ï¼Œå…±äº«è¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ã€å…¨å±€å˜é‡ç­‰èµ„æºï¼Œç‹¬äº«è‡ªå·±çš„å¯„å­˜å™¨ã€æ ˆç­‰èµ„æº

      - è¿›ç¨‹å’Œçº¿ç¨‹çš„æ¯”è¾ƒ

      - çº¿ç¨‹ç›¸è¾ƒäºè¿›ç¨‹å¼€é”€è¾ƒå°ï¼Œä½“ç°åœ¨åˆ›å»ºã€ç»ˆæ­¢å¿«ï¼ŒåŒä¸€è¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢å¿«ï¼Œé€šä¿¡ä¸éœ€è¦ç»è¿‡å†…æ ¸

      - çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šä¸¤ç§æƒ…å†µï¼Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹å’Œä¸åœ¨åŒä¸€ä¸ªè¿›ç¨‹å†…

      - çº¿ç¨‹çš„å®ç°

        - ç”¨æˆ·çº¿ç¨‹ï¼Œç”±ç”¨æˆ·ç©ºé—´çš„åº“å‡½æ•°ç®¡ç†å’Œè°ƒåº¦ï¼Œæ“ä½œç³»ç»Ÿçœ‹ä¸è§ï¼Œåªèƒ½å¤Ÿçœ‹è§ä»–ä»¬æ‰€åœ¨çš„è¿›ç¨‹ï¼Œç±»ä¼¼äºå¤šå¯¹ä¸€æ¨¡å¼
        - å†…æ ¸çº¿ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿå†…æ ¸ç®¡ç†å’Œè°ƒåº¦ï¼Œç±»ä¼¼äºä¸€å¯¹ä¸€æ¨¡å‹
        - è½»é‡çº§çº¿ç¨‹LWPï¼Œå†…æ ¸ç©ºé—´æ”¯æŒçš„ç”¨æˆ·çº¿ç¨‹ï¼Œç”±æ“ä½œç³»ç»Ÿç®¡ç†ï¼Œå’Œç”¨æˆ·çº¿ç¨‹çš„å¯¹åº”æ¨¡å‹ä¸º`1:1,1:N,M:N`

        ä»¥åŠä¸Šè¿°ä¸‰ç§æ¨¡å‹å„è‡ªçš„ä¼˜ç¼ºç‚¹

  - :closed_book:ç½‘ç»œ

    - é‡ä¼ æœºåˆ¶

      - è¶…æ—¶é‡ä¼ ï¼Œæ—¶é—´å‘¨æœŸé•¿ï¼Œä»¥æ—¶é—´é©±åŠ¨
      - å¿«é€Ÿé‡ä¼ ï¼Œä»¥æ•°æ®ä¸ºé©±åŠ¨ï¼Œè¿ç»­æ”¶åˆ°ä¸‰æ¬¡ç›¸åŒçš„ACKè§¦å‘é‡ä¼ æœºåˆ¶
      - SACKï¼Œèƒ½å¤ŸçŸ¥é“ç¼ºå°‘äº†å“ªä¸ªæŠ¥æ–‡
      - D-SACKï¼Œèƒ½å¤ŸçŸ¥é“ä»€ä¹ˆåŸå› å¯¼è‡´çš„æŠ¥æ–‡ä¸¢å¤±

    - æ»‘åŠ¨çª—å£

      - å‘é€çª—å£ï¼Œå››éƒ¨åˆ†ï¼Œä¸‰ä¸ªå˜é‡æ¥åˆ’åˆ†`SND_WND,SND_UNA,SND_NXT`
      - æ¥æ”¶çª—å£ï¼Œä¸‰éƒ¨åˆ†ï¼Œä¸¤ä¸ªå˜é‡æ¥åˆ’åˆ†`RCV_WND,RCV_NXT`

      æ»‘åŠ¨çª—å£çš„å¤§å°ç”±æ¥æ”¶çª—å£å†³å®šï¼Œæ¥æ”¶çª—å£å¤§å°å’Œå‘é€çª—å£å¤§å°çš„å…³ç³»æ˜¯çº¦ç­‰äºï¼Œå› ä¸ºå­˜åœ¨ç½‘ç»œå»¶è¿Ÿ



- 2021å¹´11æœˆ22æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„TCPæµé‡æ§åˆ¶å’Œé˜»å¡æ§åˆ¶

  - TCPæµé‡æ§åˆ¶
    - ç»å…¸çš„æµé‡æ§åˆ¶æ¨¡å‹
    - å†…å­˜ç¼“å†²åŒºå¯¹å‘é€çª—å£å’Œæ¥æ”¶çª—å£çš„å½±å“ï¼Œä¸èƒ½å¤Ÿå…ˆå‡å°‘ç¼“å†²åŒºå¤§å°ï¼Œåœ¨æ”¶ç¼©çª—å£å¤§å°ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸¢åŒ…å’Œå‘é€çª—å£å˜ä¸ºè´Ÿæ•°çš„ç°è±¡
    - çª—å£å…³é—­ï¼Œå¯ç”¨çª—å£å¤§å°å˜ä¸º0ï¼Œå­˜åœ¨çš„æ½œåœ¨é£é™©å°±æ˜¯ç”±äºæ¥æ”¶æ–¹é€šçŸ¥å‘é€æ–¹æœ‰å¯ç”¨çª—å£çš„ACKæŠ¥æ–‡ä¸¢å¤±ï¼Œé€ æˆæ­»é”ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯é€šè¿‡ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œæ¢æµ‹ï¼Œä¸€èˆ¬æœ€å¤šæ¢æµ‹ä¸‰æ¬¡
    - ç³Šæ¶‚çª—å£ç»¼åˆç—‡ï¼Œç”±äºåº”ç”¨ç¨‹åºç¹å¿™ï¼Œå¯¼è‡´æ¥æ”¶æ–¹å†…å­˜ç¼“å†²åŒºçš„æ•°æ®å¤„ç†ä¸åŠæ—¶ï¼Œæ»ç•™åœ¨ç¼“å†²åŒºä¸­ï¼Œå¯¼è‡´çª—å£è¶Šæ¥è¶Šå°ï¼Œç„¶åå‘é€çª—å£èƒ½å¤Ÿå‘é€çš„æ•°æ®åŒ…ä¹Ÿè¶Šæ¥è¶Šå°ï¼Œtcpå¤´éƒ¨+ipå¤´éƒ¨å°±40ä¸ªå­—èŠ‚äº†ï¼Œå‘é€å°çš„æ•°æ®åŒ…å¾ˆä¸åˆç®—
      - äº§ç”ŸåŸå› å‘é€æ–¹èƒ½å¤Ÿå‘é€å°çš„æ•°æ®ï¼Œæ¥æ”¶æ–¹ä¸ç®¡å¯ç”¨çª—å£æ˜¯å¤šå°‘éƒ½ä¼šé€šçŸ¥å‘é€æ–¹
      - è§£å†³æ–¹æ³•å°±æ˜¯å¤„ç†ä¸Šé¢çš„ä¸¤ä¸ªåŸå› ï¼šæ¥æ”¶æ–¹å½“å¯ç”¨çª—å£å¤§å° >= MSSæˆ–è€…å¯ç”¨çª—å£å¤§å°>=ç¼“å­˜ç©ºé—´çš„ä¸€åŠçš„æ—¶å€™æ‰èƒ½å¤Ÿé€šçŸ¥å‘é€æ–¹ï¼Œå‘é€æ–¹æ”¶åˆ°ACKå“åº”æˆ–è€…ç´¯è®¡çš„æ•°æ®åŒ…>=MSS,åé¢è¿™ä¸ªæ˜¯Nagleç®—æ³•æ¥å®Œæˆï¼ŒTCPä¸­é»˜è®¤æ‰“å¼€ï¼Œå¯¹äºä¸€äº›äº¤äº’æ€§å¼ºçš„éœ€è¦æŠŠNagleå…³é—­ï¼Œé€šè¿‡socketå‚æ•°NO_DELAY
  - TCPé˜»å¡æ§åˆ¶
    - æµé‡æ§åˆ¶æ˜¯é¿å…æ¥æ”¶æ–¹çš„ç¼“å†²åŒºè¢«å¡«æ»¡ï¼Œé˜»å¡æ§åˆ¶æ˜¯é¿å…ç½‘ç»œè¢«å¡«æ»¡
    - å‘é€çª—å£swnd=min{cwnd, rwnd}
    - æ…¢å¯åŠ¨ï¼ŒæŒ‡æ•°å¢é•¿ï¼Œæ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œcwnd += 1ï¼Œé˜ˆå€¼ä¸º`ssthresh`
    - é˜»å¡é¿å…ï¼Œç”±æ…¢å¯åŠ¨çš„æŒ‡æ•°å¢é•¿å˜ä¸ºçº¿æ€§å¢é•¿ï¼Œæ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œcwnd += 1/cwnd
    - é˜»å¡å‘ç”Ÿï¼Œè¶…æ—¶é‡ä¼ ï¼Œcwndç›´æ¥å˜æˆ1ï¼Œä¸€å¤œå›åˆ°è§£æ”¾å‰ï¼Œä»æ…¢å¯åŠ¨å¼€å§‹ï¼Œä¼šå¯¼è‡´ç½‘ç»œçªç„¶å¡é¡¿
    - å¿«é€Ÿæ¢å¤ï¼Œå¿«é€Ÿé‡ä¼ ï¼Œæ‹¥å¡çª—å£å…ˆå˜æˆåŸæ¥çš„ä¸€åŠcwnd=cwnd/2ï¼Œssthresh=cwnd,æ‰§è¡Œå¿«é€Ÿæ¢å¤ç®—æ³•
      - å¦‚æœæ”¶åˆ°äº†é‡å¤çš„ACKï¼Œcwnd+1
      - å¦‚æœæ”¶åˆ°äº†æ–°çš„ACKï¼Œcwnd=ssthresh + 3

  

  > :x: å·æ‡’çš„ä¸€å¤© 

- 2021å¹´11æœˆ23æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„è¿›ç¨‹é€šä¿¡çš„6ç§æ–¹å¼

  - ç®¡é“ï¼Œå•å‘å­—èŠ‚æµæ— æ ¼å¼ä¼ è¾“ï¼Œæœ‰å¤§å°é™åˆ¶ï¼ŒåŒ¿åç®¡é“åªèƒ½å¤Ÿåœ¨æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ä¹‹é—´ä½¿ç”¨ï¼Œå‘½åç®¡é“å¯ä»¥è§£å†³åªèƒ½åœ¨è¿™ç§äº²ç¼˜å…³ç³»ç®¡é“ä¹‹é—´ä½¿ç”¨çš„å¼Šç«¯ï¼Œé€šè¿‡`mkfifo`åˆ›å»ºã€‚éœ€è¦æ³¨æ„çš„æ˜¯å‘½åç®¡é“ä¼šè¢«å­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œè€ŒåŒ¿åç®¡é“ä¸ä¼šï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸéšç€è¿›ç¨‹çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ï¼Œç®¡é“å…¶å®å°±æ˜¯å†…æ ¸ä¸­çš„ä¸€ä¸²ç¼“å­˜ã€‚ç®¡é“çš„ç¼ºç‚¹å°±æ˜¯é€šä¿¡æ•ˆç‡å¤ªä½äº†ï¼Œä¸é€‚åˆé€šä¿¡é¢‘ç¹çš„åœºæ™¯ï¼Œä¼˜ç‚¹å°±æ˜¯ç›´åˆ°ä½•æ—¶å†™å…¥ç®¡é“ï¼Œä½•æ—¶è¯»å–

  - æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™ç§æ–¹å¼ç±»ä¼¼äºå‘é‚®ä»¶ï¼Œè§£å†³äº†ç®¡é“é€šä¿¡æ•ˆç‡ä½çš„é—®é¢˜ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼šé€šä¿¡å¤„ç†ä¸åŠæ—¶ï¼Œæ¶ˆæ¯ä½“å’Œæ¶ˆæ¯é˜Ÿåˆ—é•¿åº¦æœ‰é™åˆ¶ï¼Œåˆ†åˆ«é€šè¿‡å†…æ ¸å‚æ•°`MSGMAX`å’Œ`MSGMNB`å†³å®šï¼ŒåŒæ—¶å®ƒæœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—å­˜å‚¨åœ¨å†…æ ¸ä¸­ï¼Œè¿›ç¨‹é€šä¿¡éœ€è¦é¢‘ç¹åœ°ä»ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´æ‹·è´æ•°æ®

  - å…±äº«å†…å­˜ï¼Œè¿™ç§æ–¹å¼è§£å†³äº†æ¶ˆæ¯é˜Ÿåˆ—ä¸­é¢‘ç¹ä»ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´æ‹·è´æ•°æ®çš„ç¼ºé™·ï¼Œå…·ä½“åšæ³•æ˜¯å› ä¸ºè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œåœ¨æ¯ä¸ªè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­æ‰¾å‡ºä¸€å—æ˜ å°„åˆ°ç›¸åŒçš„ç‰©ç†å†…å­˜ä¸Šï¼Œè¿™æ ·å°±ä¸ç”¨ç”¨æˆ·æ€å’Œå†…æ ¸æ€åˆ‡æ¢äº†

  - ä¿¡å·é‡ï¼Œåœ¨å¤šçº¿ç¨‹ç³»ç»Ÿä¸­ï¼Œå…±äº«å†…å­˜å¯èƒ½ä¼šé€ æˆæ•°æ®æ··ä¹±ï¼Œæ‰€ä»¥éœ€è¦æ­é…ä¿¡å·é‡æ¥å®Œæˆè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œä¿¡å·é‡é€šå¸¸è¡¨ç¤ºçš„æ˜¯å…±äº«èµ„æºçš„æ•°é‡ï¼ŒPVåŸè¯­ï¼Œäº’æ–¥ä¿¡å·é‡1ï¼ŒåŒæ­¥ä¿¡å·é‡0

  - ä¿¡å·ï¼Œå’Œä¿¡å·é‡æ²¡å…³ç³»ï¼Œå®ƒæ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸æƒ…å†µä¸‹çš„è¿›ç¨‹é€šä¿¡ï¼Œæ¥æºæœ‰ç¡¬ä»¶æ¥æºï¼ˆctrl+c,ctrl+zç­‰ï¼‰ï¼Œè½¯ä»¶æ¥æºï¼ˆkillå‘½ä»¤ï¼‰

  - socketï¼Œä¸»è¦æœ‰ä¸‰ç§æ¨¡å¼ï¼šåŸºäºTCPçš„ç½‘ç»œç¼–ç¨‹æ¨¡å‹ï¼ŒåŸºäºUDPçš„ç½‘ç»œç¼–ç¨‹æ¨¡å‹ï¼Œæœ¬åœ°è¿›ç¨‹é€šä¿¡æ¨¡å‹ï¼ˆå’Œå‰ä¸¤ä¸ªæœ€å¤§çš„åŒºåˆ«åœ¨äºä»–éœ€è¦ç»‘å®šä¸€ä¸ªæœ¬åœ°æ–‡ä»¶ï¼Œè€Œå‰ä¸¤ä¸ªç»‘å®šIPåœ°å€å’Œç«¯å£å·ï¼‰

    ```c
    // ç³»ç»Ÿè°ƒç”¨
    int socket(int domain, int type, int protocal)
    // domain   AF_INETä»£è¡¨ipv4ï¼ŒAF_INET6ä»£è¡¨ipv6ï¼ŒAF_LOCAL/AF_UNIXä»£è¡¨æœ¬åœ°
    // type     SOCK_STREAMè¡¨ç¤ºå­—èŠ‚æµä¼ è¾“ï¼ŒSOCK_DGRAMè¡¨ç¤ºæ•°æ®æŠ¥ä¼ è¾“
    // prorocal åŸºæœ¬é€šè¿‡å‰ä¸¤ä¸ªå‚æ•°å°±èƒ½å¤Ÿç¡®å®šæ˜¯ä»€ä¹ˆåè®®äº†ï¼Œå› ä¸ºTCPæ˜¯å­—èŠ‚æµä¼ è¾“ï¼ŒUDPæ˜¯æ•°æ®æŠ¥ä¼ è¾“    
    ```

  æ­¤å¤–ï¼Œå¯¹äºçº¿ç¨‹åº”è¯¥å…³æ³¨çš„é‡ç‚¹æ˜¯çº¿ç¨‹é—´å¯¹å…±äº«èµ„æºçš„äº’æ–¥å’ŒåŒæ­¥è®¿é—®ï¼Œè€Œä¸æ˜¯çº¿ç¨‹çš„é€šä¿¡ï¼Œå› ä¸ºçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„èµ„æºï¼Œæ¯”å¦‚å…¨å±€å˜é‡ã€å†…å­˜åœ°å€ç­‰
  
- 2021å¹´11æœˆ24æ—¥ï¼Œè¡¥é½äº†å‰ä¸€å¤©çš„TCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„å¼‚å¸¸æƒ…å†µã€TCPå¿«é€Ÿè¿æ¥ã€TCPå»¶è¿Ÿç¡®è®¤å’ŒNagleç®—æ³•

  - TCPä¸‰æ¬¡æ¡æ‰‹ä¸­çš„å¼‚å¸¸æƒ…å†µ
    - ç¬¬ä¸€æ¬¡æ¡æ‰‹çš„SYNåŒ…ä¸¢å¤±ï¼šå‘é€æ–¹ä¼šè§¦å‘è¶…æ—¶é‡ä¼ ï¼Œé‡ä¼ æ—¶é—´æŒ‡æ•°å¼å¢é•¿ï¼Œé‡ä¼ æ¬¡æ•°é€šè¿‡å†…æ ¸å‚æ•°`tcp_syn_retires`ç¡®å®š
    - ç¬¬äºŒæ¬¡æ¡æ‰‹çš„SYN+ACKåŒ…ä¸¢å¤±ï¼šå‘é€æ–¹ä¼šè§¦å‘è¶…æ—¶é‡ä¼ ï¼Œé‡ä¼ SYNåŒ…ï¼ŒåŒæ—¶æ¥æ”¶æ–¹ä¹Ÿä¼šè¶…æ—¶é‡ä¼ ï¼Œé‡ä¼ SYN+ACKåŒ…ï¼Œé‡ä¼ æ¬¡æ•°ç”±å†…æ ¸å‚æ•°`tcp_synack_retires`ç¡®å®š
    - ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„ACKåŒ…ä¸¢å¤±ï¼Œè¿™æ—¶å€™å‘é€æ–¹å·²ç»å¤„äº`ESTABLISHED`çŠ¶æ€ï¼Œæ‰€ä»¥é‡ä¼ ACKçš„æ¬¡æ•°ç”±`tcp_retires2`ç¡®å®š
  - TCPå¿«é€Ÿè¿æ¥ï¼Œç¬¬ä¸€æ¬¡è¿æ¥ä»ç„¶ä¸º2RTTï¼Œä½†æ˜¯æœåŠ¡å™¨ä¼šäº§ç”Ÿä¸€ä¸ªåŠ å¯†çš„cookieï¼Œå®¢æˆ·ç«¯ç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¹‹åè¿æ¥æ—¶å®¢æˆ·ç«¯çš„SYNåŒ…ä¸­ä¼šæºå¸¦è¿™ä¸ªcookieä»¥åŠè¯·æ±‚æ•°æ®ï¼Œè¿™æ—¶åªéœ€è¦1RTTï¼Œç›´åˆ°cookieè¿‡æœŸ
  - TCPå»¶è¿Ÿç¡®è®¤ï¼Œåœ¨æ¥æ”¶æ–¹å¼€å¯ï¼Œé€šè¿‡socketå‚æ•°`TCP_QUICKACK`è®¾ç½®ï¼ŒNagleç®—æ³•åœ¨å‘é€æ–¹å¼€å¯ï¼Œé€šè¿‡socketå‚æ•°`TCP_NODELAY`ç¡®å®š




- 2021å¹´11æœˆ25æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„å¤šçº¿ç¨‹äº’æ–¥å’ŒåŒæ­¥

  - é¦–å…ˆæ˜¯æ¦‚å¿µï¼šäº’æ–¥æŒ‡çš„æ˜¯å¤šä¸ªçº¿ç¨‹ä¸èƒ½å¤ŸåŒæ—¶è®¿é—®ä¸€ä¸ªå…±äº«èµ„æºï¼ŒåŒæ­¥æŒ‡çš„æ˜¯å¤šä¸ªçº¿ç¨‹å¿…é¡»åä½œæŒ‰ç…§æŸç§é¡ºåºå…±åŒå®Œæˆä»»åŠ¡
  - ç„¶åæŒ‡å‡ºäº†äº’æ–¥å’ŒåŒæ­¥å®ç°çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šé”å’Œä¿¡å·é‡ï¼Œä¿¡å·é‡çš„åŠŸèƒ½è¦æ¯”é”å¼ºï¼Œå› ä¸ºä¿¡å·é‡åœ¨å®ç°åŒæ­¥é—®é¢˜ä¸Šæ›´åŠ æ–¹ä¾¿ï¼Œä¸¤ä¸ªéƒ½å¾ˆæ–¹ä¾¿å®ç°äº’æ–¥
  - ç„¶åè®²è§£äº†é”çš„ç±»å‹ï¼šæœ€åŸºæœ¬çš„æ˜¯ä¸¤ä¸ªè‡ªæ—‹é”å’Œäº’æ–¥é”ï¼Œè¿™ä¸¤ä¸ªé”çš„å®ç°åŸç†ç›¸ä¼¼ï¼Œåªæ˜¯å½“åŠ é”å¤±è´¥åçš„å¤„ç†æ–¹å¼ä¸åŒï¼Œè‡ªæ—‹é”åœ¨åŠ é”å¤±è´¥ä¹‹åä¼šä¸€ç›´å¿™ç­‰å¾…ï¼Œä¸ä¼šè®©å‡ºCPUï¼Œè€Œäº’æ–¥é”åœ¨åŠ é”å¤±è´¥ä¹‹åä¼šè®©å‡ºCPUï¼Œåˆ‡æ¢çº¿ç¨‹ï¼›ä¹‹ååˆå­¦ä¹ äº†è¯»å†™é”ï¼Œåˆ†ä¸ºä¸‰ç§ï¼šè¯»ä¼˜å…ˆé”ï¼Œå†™ä¼˜å…ˆé”å’Œè¯»å†™å…¬å¹³é”ï¼Œæœ€åå­¦ä¹ äº†æ‚²è§‚é”å’Œä¹è§‚é”ï¼Œå‰é¢æåˆ°çš„æ‰€æœ‰é”éƒ½æ˜¯æ‚²è§‚é”ï¼Œä¹è§‚é”å…¶å®å°±æ˜¯ä¸åŠ é”ï¼Œè®¤ä¸ºå¤šçº¿ç¨‹å…±åŒæ“ä½œå…±äº«å†…å­˜å‘ç”Ÿå†²çªçš„å‡ ç‡å¾ˆå°ï¼Œæ¯”å¦‚åœ¨çº¿æ–‡æ¡£ï¼Œgitï¼Œsvnç­‰
  - ä¿¡å·é‡ä¸»è¦å°±æ˜¯PVåŸè¯­ä¸¤ä¸ªæ“ä½œï¼ŒPæ“ä½œå°±æ˜¯å°†ä¿¡å·é‡å‡1ï¼Œå¦‚æœç»“æœå°äº0ï¼Œè¯´æ˜ç›®å‰æœ‰çº¿ç¨‹åœ¨æŒæœ‰é”ï¼Œæœ¬çº¿ç¨‹ä¼šé˜»å¡ï¼›Væ“ä½œå°±æ˜¯å°†ä¿¡å·é‡åŠ 1ï¼Œå¦‚æœç»“æœå°äºç­‰äº0ï¼Œè¯´æ˜ç›®å‰æœ‰çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œä¼šå”¤é†’ä¸€ä¸ªå¤„äºé˜»å¡é˜Ÿåˆ—çš„é˜Ÿå¤´å…ƒç´ ï¼Œå°†å…¶TCBåŠ å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ä¸­
  - æ¥ç€å­¦ä¹ äº†ä¸‰ä¸ªç»å…¸çš„åŒæ­¥é—®é¢˜ï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ï¼Œå“²å­¦å®¶å°±é¤é—®é¢˜ï¼Œè¯»è€…-å†™è€…é—®é¢˜ï¼Œä»¥åŠä»–ä»¬å„è‡ªç›¸åº”çš„å®ç°
  - æœ€åå­¦ä¹ äº†æ­»é”ï¼Œå¿…é¡»æ»¡è¶³å››ç§æ¡ä»¶ï¼šäº’æ–¥æ¡ä»¶ã€æŒæœ‰å¹¶ç­‰å¾…ã€ä¸å¯å‰¥å¤ºæ¡ä»¶ã€ç¯è·¯ç­‰å¾…æ¡ä»¶ï¼Œé¿å…æ­»é”åªéœ€è¦ç ´åå…¶ä¸­ä¸€ä¸ªæ¡ä»¶å³å¯ï¼Œæ¯”å¦‚é¡ºåºåˆ†é…èµ„æºã€ä½¿ç”¨å®šæ—¶é”ã€æ­»é”æ£€æµ‹ç­‰




> :x:å·æ‡’äº†ä¸‰å¤©ï¼Œèµ¶ç´§çœ‹å‘€ï¼Œæ•´ç†å¿ƒæƒ…ï¼Œç»™ğŸ‘´æ”¯æ¥èµ·æ¥ï¼ŒåŠ æ²¹å‘€ï¼



- 2021å¹´11æœˆ28æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„è°ƒåº¦ç®—æ³•
  - è¿›ç¨‹è°ƒåº¦ç®—æ³•
    - å…ˆæ¥å…ˆæœåŠ¡è¿›ç¨‹è°ƒåº¦ç®—æ³• FCFS
    - çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•SJF
    - æœ€é«˜å“åº”æ¯”è¿›ç¨‹è°ƒåº¦ç®—æ³•HRRN
    - æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•RR
    - æœ€é«˜ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•HPR
    - å¤šçº§é˜Ÿåˆ—åé¦ˆè°ƒåº¦ç®—æ³•MQ.
  - ï¼ˆç‰©ç†ï¼‰å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•
    - æœ€ä½³é¡µé¢ç½®æ¢ç®—æ³•OPTï¼Œæœªæ¥æœ€ä¸å¸¸ä½¿ç”¨ï¼Œç†æƒ³ç®—æ³•ï¼Œé€šè¿‡ç”¨æ¥åšæ¯”è¾ƒæ ‡å‡†
    - å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³•
    - æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•ï¼ŒåŒçº¿é“¾è¡¨
    - æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•ï¼Œç¯å½¢é“¾è¡¨
    - æœ€ä¸å¸¸ç”¨é¡µé¢ç½®æ¢ç®—æ³•ï¼Œè®¡æ•°å™¨æœ€å°çš„é¡µé¢æ¢å‡ºï¼Œä¸å¥½ï¼Œæ²¡æœ‰è€ƒè™‘æ—¶é—´å› ç´ 
  - ç£ç›˜è°ƒåº¦ç®—æ³•
    - å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•FCFS
    - æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°é¥¥é¥¿ç°è±¡
    - æ‰«æç®—æ³• SCANï¼Œä¸ä¼šå‡ºç°é¥¥é¥¿ç°è±¡ï¼Œæ•ˆç‡è¾ƒé«˜ï¼Œå¯»é“æ—¶é—´çŸ­ï¼Œç¼ºç‚¹æ˜¯æ¯ä¸ªé¡µçš„è®¿é—®é¢‘ç‡ä¸åŒ
    - å¾ªç¯æ‰«æç®—æ³• C-SCANï¼Œä¼˜ç‚¹æ˜¯æ¯ä¸ªé¡µçš„è®¿é—®é¢‘ç‡åŸºæœ¬ç›¸åŒï¼Œç¼ºç‚¹æ˜¯å’ŒSCANç›¸æ¯”å¯»é“æ—¶é—´å¢å¤šäº†ï¼Œè€Œä¸”è¿”å›è¿‡ç¨‹ä¸å¤„ç†è¯·æ±‚
    - LOOKï¼Œä¼˜åŒ–SCANï¼Œä¸ç”¨èµ°åˆ°æœ€å§‹ç«¯æˆ–è€…æœ€æœ«ç«¯åœ¨è½¬æ¢æ–¹å‘ï¼Œèµ°åˆ°è¯·æ±‚çš„æœ€è¿œç«¯å°±å¯ä»¥è½¬åŒ–æ–¹å‘
    - C-LOOKï¼Œä¼˜åŒ–C-SCANï¼Œä¼˜åŒ–åŒSCAN



- 2021å¹´11æœˆ29æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„TCPçš„å…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—ä»¥åŠTCPä¸­çš„ç›¸å…³ä¼˜åŒ–

  - åŠè¿æ¥é˜Ÿåˆ—ï¼šåˆå«SYNé˜Ÿåˆ—ï¼ŒSYNæ”»å‡»ä¼šä½¿å…¶å˜æ»¡ï¼Œå¯ä»¥é€šè¿‡`tcp_syncookie`å¼€å¯cookieæ¥ç»•è¿‡SYNé˜Ÿåˆ—ï¼Œå¢å¤§åŠè¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ä¸ä»…éœ€è¦å¢å¤§`tcp_max_syn_backlog`ï¼Œè¿˜éœ€è¦å¢å¤§å…¨è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ï¼›æ­¤å¤–ï¼Œå‡ç¼“SYNæ”»å‡»è¿˜å¯ä»¥é€šè¿‡å‡å°‘SYN+ACKåŒ…çš„é‡å‘æ¬¡æ•°

  - å…¨è¿æ¥é˜Ÿåˆ—ï¼šåˆå«accepté˜Ÿåˆ—ï¼Œå½“åº”ç”¨ç¨‹åºå¤„ç†è¾ƒæ…¢ï¼Œå¹¶å‘é‡å¤§æ—¶å¯èƒ½ä¼šé€ æˆå…¨è¿æ¥é˜Ÿåˆ—å˜æ»¡ï¼Œå…¨è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ç­‰äº`min{backlog, somaxconn}`ï¼Œå¯ä»¥é€šè¿‡å¢åŠ è¿™ä¸¤ä¸ªå‚æ•°æ¥å¢åŠ å…¨è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦

  - TCPä¸‰æ¬¡æ¡æ‰‹çš„ä¼˜åŒ–

    - å…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—é•¿åº¦çš„è°ƒæ•´
      - å¯ä»¥é€šè¿‡`ss -lnt`ç›´æ¥æŸ¥çœ‹å…¨è¿æ¥é˜Ÿåˆ—çš„é•¿åº¦ï¼Œåœ¨listenå’ŒélistençŠ¶æ€ä¸‹çš„Send-Qå’ŒRecv-Qçš„æ„ä¹‰æ˜¯ä¸åŒçš„
      - åŠè¿æ¥é˜Ÿåˆ—æ»¡äº†ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`netstat -s |grep "SYNs to LISTEN"`æŸ¥çœ‹è¢«ä¸¢å¼ƒçš„è¯·æ±‚
      - å…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ä¹‹åï¼Œä¸ä½†ACKä¼šè¢«ä¸¢å¼ƒï¼ŒSYNä¹Ÿä¼šè¢«ä¸¢å¼ƒï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤`netstat -s |grep overflowed`æŸ¥çœ‹
    - SYNé‡å‘æ¬¡æ•°ç”±`tcp_syn_retires`å†³å®š
    - SYN+ACKé‡å‘æ¬¡æ•°ç”±`tcp_synack_retires`å†³å®š
    - å¯ä»¥é€šè¿‡`tcp_fastopen`å¼€å¯fast openï¼Œè¿™æ ·å¯ä»¥ç»•è¿‡ä¸‰æ¬¡æ¡æ‰‹

  - TCPå››æ¬¡æŒ¥æ‰‹çš„ä¼˜åŒ–

    - FINæŠ¥æ–‡çš„é‡ä¼ æ¬¡æ•°æ˜¯ç”±`tcp_orphan_retires`å†³å®šçš„
    - closeå…³é—­å’Œshutdownå…³é—­çš„åŒºåˆ«ï¼Œåè€…æ›´åŠ ä¼˜é›…ï¼Œå¯ä»¥å…³é—­ä¸€ä¸ªæ–¹å‘ä¸Šçš„è¯»/å†™ï¼Œé€šè¿‡closeæ˜¯ç›´æ¥å…³é—­ï¼Œç§°ä¸ºå­¤å„¿è¿æ¥
    - è°ƒæ•´å­¤å„¿è¿æ¥çš„æœ€å¤§ä¸ªæ•°`tcp_max_orphans`
    - è°ƒæ•´`FIN_WAIT_2`çŠ¶æ€çš„æ—¶é—´ï¼Œåªé€‚ç”¨äºä½¿ç”¨closeå…³é—­çš„è¿æ¥ï¼Œ`tcp_fin_timeout`
    - è°ƒæ•´time_waitçŠ¶æ€è¿æ¥çš„æœ€å¤§å€¼ï¼Œ`tcp_max_tw_buckets`
    - å¤ç”¨time_waitçŠ¶æ€çš„è¿æ¥`tcp_te_reuse + tcp-timestamp`

  - TCPä¼ è¾“æ€§èƒ½çš„æå‡

    - æ‰©å¤§çª—å£çš„å¤§å°`tcp_window_scaling`ï¼ŒTCPæŠ¥å¤´ä¸­çš„é€‰é¡¹å­—æ®µ

    - å‘é€çª—å£çš„æœ€å¤§å€¼è¦å°½å¯èƒ½åœ°æ¥è¿‘å¸¦å®½æ—¶å»¶ç§¯ï¼Œå‘é€ç¼“å†²åŒºçš„èŒƒå›´é€šè¿‡`tcp_wmem`æ¥ç¡®å®šï¼Œå‘é€ç¼“å†²åŒºä¼šè‡ªåŠ¨è°ƒæ•´

    - æ¥æ”¶ç¼“å†²åŒºçš„èŒƒå›´é€šè¿‡`tcp_rmem`æ¥æŒ‡å®šï¼Œæ¥æ”¶ç¼“å†²åŒºéœ€è¦æ‰“å¼€`tcp_moderate_rcvbuf`æ‰å¯ä»¥è‡ªåŠ¨è°ƒæ•´

      éœ€è¦æ³¨æ„ä¸è¦å†socketä¸­æŒ‡å®šå‘é€ç¼“å†²åŒºå’Œæ¥æ”¶ç¼“å†²åŒºçš„å¤§å°ï¼Œå› ä¸ºè¿™æ ·ä¼šå¯¼è‡´è‡ªåŠ¨è°ƒæ•´åŠŸèƒ½å¤±æ•ˆ

    - TCPè¿æ¥çš„å†…å­˜èŒƒå›´`tcp_mem`ï¼Œè¿™ä¸ªå€¼è¶Šå¤§ï¼Œè¯´æ˜æœåŠ¡å™¨åˆ†é…ç»™ç”¨äºTCPè¿æ¥çš„å†…å­˜è¶Šå¤šï¼Œèƒ½å¤Ÿæ”¯æŒçš„å¹¶å‘é‡è¶Šå¤§



- 2021å¹´11æœˆ30æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶ç³»ç»Ÿç›¸å…³å†…å®¹

  - æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆï¼šç´¢å¼•èŠ‚ç‚¹ï¼ˆinodeï¼‰+ ç›®å½•é¡¹ï¼ˆdentryï¼‰ï¼Œç´¢å¼•èŠ‚ç‚¹æ˜¯æ–‡ä»¶çš„å”¯ä¸€æ ‡è¯†ï¼Œå…¶åŒ…å«å†…å®¹æœ‰ç´¢å¼•èŠ‚ç‚¹idï¼Œæ–‡ä»¶å¤§å°ï¼Œæ–‡ä»¶åˆ›å»ºã€ä¿®æ”¹æ—¶é—´ã€æ–‡ä»¶ç±»å‹ç­‰ï¼Œç›®å½•é¡¹ä¸­åŒ…å«äº†æ–‡ä»¶åã€ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆä»¥åŠç›®å½•é¡¹ä¹‹é—´çš„å…³è”å…³ç³»

    - ç›®å½•å’Œç›®å½•é¡¹ä¸åŒçš„æ˜¯ï¼šç›®å½•æ˜¯æ–‡ä»¶ï¼Œå­˜å‚¨åœ¨ç£ç›˜ä¸Šï¼Œç›®å½•é¡¹æ˜¯ç”±å†…æ ¸ç»´æŠ¤çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œ å†…æ ¸ä¼šæŠŠå·²ç»ç”¨è¿‡çš„ç›®å½•é€šè¿‡ç›®å½•é¡¹è¿™ä¸ªç»“æ„ç¼“å­˜åˆ°å†…å­˜ä¸­
    - æ–‡ä»¶ç³»ç»Ÿè¯»å†™çš„åŸºæœ¬å•ä½å«æ•°æ®å—ï¼Œä¸€ä¸ªæ•°æ®å—æ˜¯8ä¸ªæ‰‡åŒºå¤§å°ï¼Œä¹Ÿå°±æ˜¯4kï¼Œä¸€ä¸ªé¡µé¢å¤§å°ä¹Ÿæ˜¯4kï¼Œè¿™å°±å¯¹åº”èµ·æ¥äº†ï¼Œæ–‡ä»¶ç³»ç»Ÿè¯»å†™çš„åŸºæœ¬å•ä½æ˜¯æ•°æ®å—

  - è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºæ–‡ä»¶ç³»ç»Ÿçš„ç§ç±»ä¼—å¤šï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰æ¥ç»Ÿä¸€æ¥å£

  - æ–‡ä»¶çš„ä½¿ç”¨ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶ç»´æŠ¤ä¸€ä¸ªæ–‡ä»¶æ‰“å¼€è¡¨ï¼Œæ–‡ä»¶æ‰“å¼€è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶æè¿°ç¬¦ä¸­çš„å†…å®¹åŒ…æ‹¬æ–‡ä»¶æŒ‡é’ˆã€æ–‡ä»¶è®¡æ•°å™¨ã€æ–‡ä»¶ç£ç›˜ä½ç½®å’Œè®¿é—®æƒé™ã€‚

  - æ–‡ä»¶çš„å­˜å‚¨æœºåˆ¶

    - è¿ç»­å­˜å‚¨æ–¹å¼ï¼Œä¼˜ç‚¹æ˜¯èƒ½å¤Ÿä¸€æ¬¡æ€§æŸ¥è¯¢å‡ºéœ€è¦çš„æ•°æ®å—ä½ç½®ï¼Œç¼ºç‚¹æ˜¯ä¼šäº§ç”Ÿç£ç›˜ç©ºé—´ç¢ç‰‡ï¼Œä»¥åŠæ–‡ä»¶å¤§å°ä¸æ˜“æ‰©å±•

    - éè¿ç»­ç©ºé—´å­˜å‚¨æ–¹å¼ï¼Œåˆ†ä¸ºä¸¤ç§ï¼Œé“¾å¼å­˜å‚¨æ–¹å¼å’Œç´¢å¼•å­˜å‚¨æ–¹å¼

      - é“¾å¼å­˜å‚¨æ–¹å¼åˆåˆ†æˆäº†ä¸¤ç§ï¼šéšå¼å­˜å‚¨å’Œæ˜¾å¼å­˜å‚¨ï¼Œéƒ½èƒ½å¤Ÿè§£å†³è¿ç»­å­˜å‚¨æ–¹å¼ä¸­çš„ä¸¤ä¸ªç¼ºç‚¹

        - éšå¼å­˜å‚¨æŒ‡çš„æ˜¯åœ¨æ–‡ä»¶å¤´ä¸­å­˜æ”¾èµ·å§‹å—å’Œæœ«å°¾å—çš„ä½ç½®ï¼Œç¼ºç‚¹æ˜¯è¿æ¥ä¸ç¨³å®šï¼Œå¦‚æœå› ä¸ºå‘ç”Ÿç¡¬ä»¶/è½¯ä»¶é”™è¯¯è€Œå¯¼è‡´æŒ‡é’ˆä¸¢å¤±æˆ–æŸåï¼Œéƒ¨åˆ†æ–‡ä»¶æ•°æ®ä¹Ÿä¼šä¸¢å¤±ï¼›ç¬¬äºŒæ˜¯æ¯ä¸ªæ•°æ®å—ä¸­éƒ½éœ€è¦æ‹¿å‡ºä¸€éƒ¨åˆ†æ¥å­˜å‚¨ä¸‹ä¸€ä¸ªæ•°æ®å—çš„æŒ‡é’ˆ
        - æ˜¾å¼å­˜å‚¨æŒ‡çš„æ˜¯å°†æ¯ä¸ªæ•°æ®å—çš„æŒ‡é’ˆéƒ½æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­ï¼Œè¿™ä¸ªè¡¨å«åšæ–‡ä»¶åˆ†é…è¡¨FATï¼Œè¡¨æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ–‡ä»¶å¤´ä¸­éœ€è¦æœ‰æŒ‡å‘è¿™ä¸ªè¡¨çš„æŒ‡é’ˆ

        å¾ˆæ˜æ˜¾ï¼Œä¸ç®¡æ˜¯éšå¼å­˜å‚¨è¿˜æ˜¯æ˜¾ç¤ºå­˜å‚¨ï¼Œéƒ½ä¸é€‚åˆå¤§æ–‡ä»¶

      - ç´¢å¼•å­˜å‚¨æ–¹å¼ï¼Œä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªæˆ–è€…å¤šä¸ªç´¢å¼•æ•°æ®å—ï¼Œç´¢å¼•æ•°æ®å—ä¸­å­˜æ”¾çš„æ˜¯æ¯ä¸ªæ•°æ®å—çš„æŒ‡é’ˆï¼Œé‚£ä¹ˆæ–‡ä»¶å¤´ä¸­éœ€è¦æœ‰æŒ‡å‘è¿™ä¸ªç´¢å¼•æ•°æ®å—çš„æŒ‡é’ˆï¼Œå³ä½¿æ–‡ä»¶å¾ˆå°‘ï¼Œä¹Ÿéœ€è¦æ‹¿å‡ºä¸€ä¸ªæ•°æ®å—æ¥å­˜å‚¨å…¶ä»–æ–‡ä»¶æ•°æ®å—çš„æŒ‡é’ˆï¼Œå¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ç»„åˆçš„æ–¹å¼æ¥è§£å†³å¤§æ–‡ä»¶çš„å­˜å‚¨

        - ç´¢å¼• + é“¾è¡¨çš„æ–¹å¼ï¼šåœ¨ç´¢å¼•æ•°æ®å—ä¸Šç•™å‡ºä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªç´¢å¼•æ•°æ®å—çš„ç©ºé—´
        - ç´¢å¼• + ç´¢å¼•çš„æ–¹å¼ï¼šç´¢å¼•æ•°æ®å—ä¸­å­˜æ”¾çš„æ˜¯å…¶ä»–ç´¢å¼•æ•°æ®å—çš„åœ°å€

  - UNIXæ–‡ä»¶ç³»ç»Ÿï¼Œç»¼åˆäº†ä¸Šè¿°æ–‡ä»¶ç»„ç»‡/å­˜å‚¨æ–¹å¼çš„ä¼˜ç‚¹ï¼Œå¦‚æœéœ€è¦çš„æ•°æ®å—ä¸ªæ•°å°äº10ï¼Œé‚£ä¹ˆé¡ºåºå­˜å‚¨ï¼Œç›´æ¥è¯»å–ï¼Œå¦‚æœå¤§äºäº†10ï¼Œè¿˜æœ‰ä¸€çº§ç´¢å¼•å­˜å‚¨ï¼ŒäºŒçº§ç´¢å¼•å­˜å‚¨å’Œä¸‰çº§ç´¢å¼•å­˜å‚¨ï¼Œæ‰€ä»¥UNIXæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å¤´ä¸­éœ€è¦æœ‰13ä¸ªæŒ‡é’ˆ

  - ç©ºé—²ç©ºé—´çš„ç®¡ç†ï¼Œç©ºé—²è¡¨æ³•ï¼Œç©ºé—²é“¾è¡¨æ³•ï¼Œä½å›¾æ³•ï¼ˆLinuxä¸­æ˜¯ä½¿ç”¨ä½å›¾æ³•æ¥ç®¡ç†ç©ºé—²ç©ºé—´çš„ï¼‰

  - æ–‡ä»¶ç³»ç»Ÿç»“æ„ï¼Œè¿™ä¸ªç»“æ„ç”±å—ç»„ç»„æˆï¼Œä¸€ä¸ªå—ç»„128Mï¼Œå—ç»„ä¸­åŒ…å«è¶…çº§å—ã€å—ç»„æè¿°ç¬¦è¡¨ã€æ•°æ®ä½å›¾ã€ç´¢å¼•èŠ‚ç‚¹ä½å›¾ã€ç´¢å¼•èŠ‚ç‚¹åˆ—è¡¨ã€æ•°æ®å—

  - ç›®å½•çš„å­˜å‚¨ï¼Œç›®å½•å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œå¾ˆæ™®é€šæ–‡ä»¶ä¸åŒçš„æ˜¯ï¼Œæ™®é€šæ–‡ä»¶å­˜å‚¨çš„æ˜¯æ–‡ä»¶æ•°æ®ï¼Œè€Œç›®å½•æ–‡ä»¶å­˜å‚¨çš„æ˜¯ç›®å½•é¡¹æˆ–è€…æ–‡ä»¶ï¼Œå¦‚æœä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•é¡¹æœ‰å¾ˆå¤šï¼Œé‚£ä¹ˆä¼šä½¿ç”¨hashï¼Œè¿™æ—¶å€™éœ€è¦ä½¿ç”¨é¢„å¤‡æªæ–½æ¥é˜²æ­¢å“ˆå¸Œå†²çª

  - è½¯é“¾æ¥å’Œç¡¬é“¾æ¥

    - ç¡¬é“¾æ¥ï¼šå¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ï¼Œä¸èƒ½å¤Ÿè·¨æ–‡ä»¶ç³»ç»Ÿ
    - è½¯é“¾æ¥ï¼šç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ä»¶ï¼ˆinodeï¼‰ï¼Œåªæ˜¯è¿™ä¸ªæ–°æ–‡ä»¶çš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼Œå¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿ

  - æ–‡ä»¶IO

    - ç›´æ¥å’Œéç›´æ¥IOï¼ŒæŒ‡çš„æ˜¯æ˜¯å¦ä½¿ç”¨å†…æ ¸ç¼“å†²åŒºï¼Œç›´æ¥IOæŒ‡çš„æ˜¯åº”ç”¨ç¨‹åºé€šè¿‡æ–‡ä»¶ç³»ç»Ÿç›´æ¥è®¿é—®ç£ç›˜ï¼Œä¸ä¼šå‘ç”Ÿç”¨æˆ·ç¨‹åºå’Œå†…æ ¸ç¼“å­˜ä¹‹é—´çš„æ•°æ®æ‹·è´

    - ç¼“å†²å’Œéç¼“å†²IOï¼ŒæŒ‡çš„æ˜¯æ˜¯å¦ä½¿ç”¨æ ‡å‡†åº“æä¾›çš„ç¼“å†²åŒºï¼Œä»–ä»¬ä¸¤ä¸ªéƒ½ä½¿ç”¨å†…æ ¸ç¼“å†²åŒº

    - é˜»å¡IOå’Œéé˜»å¡IOï¼ŒæŒ‡çš„æ˜¯åº”ç”¨ç¨‹åºæ˜¯å¦ä¼šé˜»å¡è‡ªèº«è¿è¡Œ

      - é˜»å¡IOç­‰å¾…çš„æ˜¯ä¸¤ä¸ªè¿‡ç¨‹ï¼šä¸€ä¸ªæ˜¯æ•°æ®å‡†å¤‡å¥½ï¼Œå¦ä¸€ä¸ªæ˜¯æ•°æ®ä»å†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°åº”ç”¨ç¨‹åºç¼“å†²åŒº

      - éé˜»å¡IOæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯æ¯”è¾ƒç¬¨é‡ï¼Œè™½ç„¶ä¸ä¼šé˜»å¡ï¼Œè¿™ä¸ªè¿‡ç¨‹çº¿ç¨‹ä¸ä¼šå»å¹²åˆ«çš„äº‹æƒ…ï¼Œä¹Ÿä¸ä¼šå‘èµ·CPUï¼Œè€Œæ˜¯ä¸æ–­åœ°è½®è¯¢æŸ¥çœ‹æ•°æ®æ˜¯å¦å‡†å¤‡å¥½ï¼›ç¬¬äºŒç§æ˜¯å¤šè·¯å¤ç”¨éé˜»å¡IOï¼Œè¿™ç§æ˜¯æ•°æ®å‡†å¤‡å¥½äº†ä¹‹åï¼Œå†…æ ¸ä¼šé€šè¿‡äº‹ä»¶é€šçŸ¥åº”ç”¨ç¨‹åºï¼Œç„¶ååº”ç”¨ç¨‹åºåªéœ€è¦ç­‰å¾…ç”¨æˆ·ç¨‹åºå’Œå†…æ ¸ç¼“å­˜ä¹‹é—´çš„æ•°æ®æ‹·è´è¿‡ç¨‹å³å¯ï¼Œåœ¨æ²¡æœ‰è¢«é€šçŸ¥çš„æƒ…å†µä¸‹ï¼ŒCPUå¯ä»¥å»åšåˆ«çš„äº‹æƒ…

        > å¤šè·¯å¤ç”¨éé˜»å¡IOåˆè¢«ç§°ä½œNIO

    - åŒæ­¥IOå’Œå¼‚æ­¥IO

      å‰é¢æ‰€è¯´çš„IOæ–¹å¼éƒ½æ˜¯åŒæ­¥IOï¼Œå› ä¸ºä»–ä»¬éƒ½æœ‰ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªç­‰å¾…è¿‡ç¨‹

      è€ŒçœŸæ­£çš„å¼‚æ­¥IOæ˜¯ä¸ä¼šç­‰å¾…ä»»ä½•æ—¶é—´çš„ï¼Œåº”ç”¨ç¨‹åºå‘èµ·`aio_read`è¯·æ±‚ä¹‹åï¼Œå†…æ ¸ä¼šæŠŠæ•°æ®å‡†å¤‡å¥½å¹¶å®Œæˆä»ç”¨æˆ·ç¨‹åºåˆ°å†…æ ¸ç¼“å­˜ä¹‹é—´çš„æ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œéƒ½å®Œæˆäº†ä¹‹åæ‰å›å»é€šçŸ¥åº”ç”¨ç¨‹åº

      > å¼‚æ­¥IOåˆå«åšAIO



- 2021å¹´12æœˆ1æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„IPåŸºæœ¬çŸ¥è¯†ä»¥åŠIPåœ°å€

  - IPåœ°å€çš„ä½œç”¨æ˜¯ç”¨æ¥â€œæŒ‡è·¯â€ï¼Œå³åœ¨æ•°æ®åŒ…çš„ä¼ è¾“è¿‡ç¨‹ä¸­IPåœ°å€æ˜¯ä¸ä¼šå‘ç”Ÿå˜åŒ–çš„ï¼Œè€ŒMACåœ°å€çš„ä½œç”¨æ˜¯ç”¨æ¥â€œçœŸæ­£ä¼ è¾“â€ï¼Œç›®æ ‡MACå’ŒæºMACåœ°å€åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„

  - IPåœ°å€ï¼ŒIPv4åœ°å€ä¸€å…±32ä½ï¼Œå¤§çº¦æœ‰42ä¸€ä¸ªï¼Œ2011å¹´å°±åˆ†é…å®Œäº†ï¼Œåœ°å€é€šå¸¸ä½¿ç”¨ç‚¹åˆ†åè¿›åˆ¶æ–¹æ³•æ¥è¡¨ç¤º

    - IPåœ°å€åˆ†ä¸º5ç±»ï¼ŒAç±»ï¼ˆæœ€é«˜ä½0ï¼Œç½‘ç»œå·7ä½ï¼‰ï¼ŒBç±»ï¼ˆ10...ï¼Œç½‘ç»œå·14ä½ï¼‰ï¼ŒCç±»ï¼ˆ110...ï¼Œç½‘ç»œå·21ä½ï¼‰ï¼ŒDç±»ï¼ˆ1110...ï¼‰ï¼ŒEç±»ï¼ˆ1111...ï¼‰ï¼ŒDç±»å’ŒEç±»æ²¡æœ‰ä¸»æœºå·å’Œç½‘ç»œå·ï¼ŒDç±»åœ°å€å¸¸ç”¨äºç»„æ’­åœ°å€ï¼ŒEç±»åœ°å€æš‚æœªä½¿ç”¨

    - IPé€šä¿¡é‡Œé¢æœ‰å•æ’­ï¼ˆTCPï¼Œä¸€å¯¹ä¸€ï¼‰ï¼Œå¹¿æ’­ï¼ˆUDPï¼Œä¸€å¯¹æ‰€æœ‰ï¼‰ï¼Œç»„æ’­ï¼ˆUDPï¼Œä¸€å¯¹ç‰¹å®šç»„ï¼‰

    - é€šè¿‡ä¸Šé¢IPåœ°å€åˆ†ç±»çš„ä¼˜ç‚¹å°±æ˜¯ç®€å•æ˜äº†ï¼Œè·¯ç”±å™¨æˆ–è€…ä¸»æœºè¿›è¡Œåœ°å€è§£æçš„æ—¶å€™èƒ½å¤Ÿå¿«é€ŸåŒºåˆ†å‡ºä¸»æœºå·å’Œç½‘ç»œå·ï¼Œç¼ºç‚¹æ˜¯åŒä¸€ç±»ç½‘ç»œä¸‹æ²¡æœ‰å±‚æ¬¡ï¼›è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯ä¸ç°å®è„±é’©ï¼Œæ¯”å¦‚Cç±»åœ°å€ä¸­ä¸»æœºæœ€å¤šæœ‰254ä¸ªï¼Œå¤ªå°‘äº†ï¼Œè€ŒBç±»åœ°å€é‡Œé¢å¯ä»¥æœ‰6ä¸‡å¤šä¸ªï¼Œå¤ªå¤šäº†

    - ä¸ºäº†è§£å†³ä¸Šé¢è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼Œåˆæå‡ºäº†CIDRæ— åœ°å€åˆ†ç±»ç®—æ³•ï¼Œ`a.b.c.d/x`ï¼Œ`x`è¡¨ç¤ºçš„æ˜¯ç½‘ç»œåœ°å€çš„ä½æ•°ï¼›æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡å­ç½‘æ©ç æ¥åŒºåˆ†ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸»æœºåœ°å€åˆ†æˆäº†å­ç½‘åœ°å€å’Œä¸»æœºåœ°å€ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç½‘ç»œå·å¯ä»¥é€šè¿‡å­ç½‘æ©ç å’ŒIPåœ°å€è¿›è¡ŒæŒ‰ä½ä¸å¾—åˆ°ï¼Œä¸»æœºå·å¯ä»¥é€šè¿‡IPåœ°å€å’Œå­ç½‘æ©ç çš„åç æŒ‰ä½ä¸å¾—åˆ°

      > å­ç½‘ä¸ªæ•°è¶Šå¤šï¼Œæ¯ä¸ªå­ç½‘ä¸­çš„ä¸»æœºæ•°å°±è¶Šå°‘

    - A,B,Cç±»åœ°å€ä¸­éƒ½æ˜¯åˆ†æˆäº†å…¬æœ‰åœ°å€å’Œç§æœ‰åœ°å€ï¼ŒAç±»åœ°å€ä¸­çš„ç§æœ‰åœ°å€æ˜¯ä»¥`10`å¼€å¤´ï¼ŒBç±»åœ°å€ä¸­çš„ç§æœ‰åœ°å€æ˜¯`172.16 - 172.31`ï¼ŒCç±»åœ°å€ä¸­çš„ç§æœ‰åœ°å€æ˜¯`172.168`å¼€å¤´çš„ï¼Œå…¬æœ‰åœ°å€æœ‰ç‰¹å®šçš„æœºæ„æ¥ç®¡ç†å’Œåˆ†é…ï¼Œæœ‰ä¸€ä¸ªç»„ç»‡æœºæ„å«ICANNï¼Œå…¶ä¸­IANAæ˜¯ä»–çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œä¸»è¦è´Ÿè´£IPåœ°å€çš„ç»„ç»‡å’Œç®¡ç†ï¼Œä¸­å›½çš„IPåœ°å€ç®¡ç†æ˜¯ç”±CNNICæ¥è´Ÿè´£çš„

    - IPåœ°å€å’Œè·¯ç”±æ§åˆ¶

    - IPåˆ†ç‰‡å’Œé‡ç»„ï¼ŒMTU

    - IPv6ï¼Œè®©ä¸–ç•Œä¸Šçš„æ¯ä¸€ç²’æ²™å­éƒ½æœ‰ä¸€ä¸ªIPåœ°å€ï¼Œ128ä½ï¼Œ16ä½ä¸€ç»„ï¼Œä¼˜åŠ¿ä¸ä»…åœ¨äºåœ°å€æ•°ç›®å¤šï¼Œå®‰å…¨æ€§æ›´å¥½ï¼Œå¤´éƒ¨å›ºå®š40å­—èŠ‚ï¼Œä¼ è¾“æ•ˆç‡æ›´é«˜ï¼Œè‡ªåŠ¨åˆ†é…IPåœ°å€ï¼Œä¸éœ€è¦DHCPæœåŠ¡å™¨...



- 2021å¹´12æœˆ3æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­IPçš„ç›¸å…³æŠ€æœ¯

  - DNSï¼ŒåŸŸåæœåŠ¡ï¼Œåº•å±‚æ˜¯ä½¿ç”¨UDPï¼Œé»˜è®¤ç«¯å£53ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯æ ¹åŸŸã€é¡¶çº§åŸŸå’Œæƒå¨åŸŸï¼ŒåŠŸèƒ½æ˜¯æŠŠåŸŸåè½¬æ¢æˆIPåœ°å€
  - ARPï¼Œåœ°å€è§£æåè®®ï¼Œå°†IPåœ°å€è½¬æ¢æˆMACåœ°å€ï¼Œé€šè¿‡UDPå¹¿æ’­çš„æ–¹å¼é€šçŸ¥æ•´ä¸ªç½‘ç»œä¸­çš„ä¸»æœºï¼Œç¬¦åˆæ¡ä»¶çš„ä¸»æœºå°†è‡ªå·±çš„MACåœ°å€å¡«å…¥å“åº”åŒ…ï¼Œç„¶åå†é€šè¿‡å•æ’­çš„æ–¹å¼å“åº”å›å»
  - RARPï¼Œåå‘åœ°å€è§£æåè®®ï¼Œå°†MACåœ°å€è½¬æ¢æˆIPåœ°å€ï¼Œä¸»è¦ç”¨äºæ— ç›˜å·¥ä½œç«™ï¼Œä¸»æœºåªåšæ“ä½œï¼Œä¸å­˜å‚¨ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªRARPæœåŠ¡å™¨ï¼Œç‚¹å¯¹ç‚¹é€šä¿¡
  - DHCPï¼ŒåŠ¨æ€è·å–IPåœ°å€ï¼ŒDHCPå®¢æˆ·ç«¯ç›‘å¬çš„ç«¯å£æ˜¯68ï¼ŒæœåŠ¡å™¨æ˜¯67ï¼Œæ•´ä¸ªé€šä¿¡è¿‡ç¨‹ä¸­éƒ½æ˜¯é€‚ç”¨çš„UDPå¹¿æ’­ï¼Œä¸ºäº†ç©¿é€è·¯ç”±å™¨ï¼Œä½¿ç”¨äº†ä¸­ç»§ä»£ç†ï¼ŒDHCPçš„è¿‡ç¨‹æ˜¯ï¼šDHCP discover --> DHCP offer(å¯èƒ½æ˜¯å¤šä¸ª) --> DHCP request(é€‰æ‹©ä¸€ä¸ª) --> DHCP ACK
  - NATï¼Œç½‘ç»œåœ°å€è½¬æ¢ï¼Œä¸»è¦åŠŸèƒ½å°±æ˜¯ç¼“è§£IPv4åœ°å€æ•°é‡çš„å‹åŠ›ï¼Œå°†å¤šä¸ªç§æœ‰åœ°å€è½¬æ¢æˆä¸€ä¸ªå…¬æœ‰åœ°å€ï¼Œé€šè¿‡ç«¯å£å·åŒºåˆ†ï¼Œè¿™å…¶å®æ˜¯NAPTï¼ŒNATä¹Ÿæœ‰ä¸å°‘ç¼ºç‚¹ï¼Œæ¯”å¦‚å¤–éƒ¨æ— æ³•è®¿é—®åˆ°NATå†…éƒ¨çš„æœåŠ¡å™¨ï¼ŒNATæœåŠ¡å™¨çš„å‹åŠ›è¿‡å¤§ï¼ŒNATè·¯ç”±å™¨è½¬æ¢è¡¨çš„ç”Ÿæˆå’Œç»´æŠ¤éƒ½æ˜¯ç”±NATè·¯ç”±å™¨æ¥ç»´æŠ¤å®Œæˆçš„ï¼Œæ”¹å˜äº†ç½‘ç»œæ¨¡å‹çš„åŸç†ï¼Œä¸Šå±‚åè®®ä¿®æ”¹ä¸Šå±‚æ•°æ®åŒ…ï¼Œå› ä¸ºä»–å›å»ä¿®æ”¹TCP/udpæ•°æ®æŠ¥æ–‡ä¸­çš„ç«¯å£å·ï¼Œè§£å†³æ–¹æ³•æœ€å¥½çš„å°±æ˜¯ä½¿ç”¨IPv6ï¼Œå…¶æ¬¡è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨NATç©¿é€æŠ€æœ¯
  - ICMPï¼Œäº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼Œé‡ç‚¹åœ¨æ§åˆ¶ä¸¤ä¸ªå­—ï¼Œä¸»è¦åˆ†æˆä¸¤ç§ç±»å‹ï¼šæŸ¥è¯¢æŠ¥æ–‡ç±»å‹å’Œå·®é”™æŠ¥æ–‡ç±»å‹ï¼ŒåŠŸèƒ½å°±æ˜¯å‘Šè¯‰ä¸»æœºå‡ºé”™çš„åŸå› 
  - IGMPï¼Œå› ç‰¹ç½‘ç»„ç®¡ç†åè®®ï¼Œå’ŒICMPæ²¡å…³ç³»ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æŸ¥è¯¢ç»„ä¸­ä¸»æœºï¼ˆå¸¸è§„æŸ¥è¯¢å’Œå“åº”ï¼‰å’Œå°†æŸä¸ªä¸»æœºç§»å‡ºç»„ï¼ˆç¦»å¼€ç»„æ’­ç»„ï¼‰ï¼Œç»„æ’­ä¸­çš„ç‰¹å®šç»„

  

- 2021å¹´12æœˆ4æ—¥ï¼Œå¤ä¹ äº†æ“ä½œç³»ç»Ÿçš„ä¸­é›¶æ‹·è´ã€IOå¤šè·¯å¤ç”¨æ¥å£ä»¥åŠé«˜æ€§èƒ½ç½‘ç»œæ¡†æ¶

  - å¯¹äºå°æ–‡ä»¶çš„ä¼ è¾“ä½¿ç”¨é›¶æ‹·è´ï¼Œå¤§æ–‡ä»¶å°±æ˜¯ç”¨ç›´æ¥IO+å¼‚æ­¥IO

    - DMAæ˜¯é›¶æ‹·è´çš„åŸºç¡€ï¼ŒDMAå°±æ˜¯åœ¨CPUä¸å‚ä¸çš„æƒ…å†µä¸‹ç”±ç¡¬ä»¶æ§åˆ¶å™¨è‡ªåŠ¨å°†æ•°æ®å‡†å¤‡å¥½ä¿å­˜åˆ°è‡ªå·±çš„æ•°æ®ç¼“å†²åŒºä¸­ï¼Œä¼ ç»Ÿæ–¹å¼ä¸‹æ˜¯é€šè¿‡readå’Œwriteæ¥å¯¹ç³»ç»Ÿæ–‡ä»¶è¿›è¡Œè¯»å–ï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿ4æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œ4æ¬¡æ•°æ®æ‹·è´è¿‡ç¨‹ï¼ˆåŒ…å«ä¸¤æ¬¡DMAæ‹·è´å’Œä¸¤æ¬¡CPUæ‹·è´ï¼‰ï¼Œæ‰€ä»¥å®ç°é›¶æ‹·è´çš„æ–¹å¼æœ‰ä¸‰ç§ï¼šç¬¬ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡`mmap()+write()`æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯ä½¿ç”¨å…±äº«å†…å­˜ï¼Œå…±äº«å†…æ ¸ç¼“å­˜å’Œç”¨æˆ·ç¨‹åºç¼“å­˜ï¼Œå‡å°‘äº†ä¸€æ¬¡CPUæ‹·è´è¿‡ç¨‹ï¼›ç¬¬äºŒç§æ–¹å¼æ˜¯é€šè¿‡`sendfile()`æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å‡å°‘äº†ä¾æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œæ‰€ä»¥åªéœ€è¦ä¸¤æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ¥ä¸‹æ¥éœ€è¦çœ‹ç¡¬ä»¶æ˜¯å¦æ”¯æŒSG-DMAï¼Œå¦‚æœæ”¯æŒçš„è¯ï¼Œå°±å®ç°äº†æœ€ä¼˜çš„é›¶æ‹·è´ï¼Œè¿™æ—¶å€™ä¼šç›´æ¥å°†æ•°æ®ä»å†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°ç¡¬ä»¶æ§åˆ¶å™¨ä¸­çš„æ•°æ®ç¼“å†²åŒºä¸­ï¼Œå› æ­¤è¿™ç§æ–¹å¼ä¸‹åªéœ€è¦ä¸¤æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸¤æ¬¡æ•°æ®æ‹·è´
    - é›¶æ‹·è´æ—¶éç›´æ¥IOæ¨¡å¼ï¼Œä½†æ˜¯ä¼ è¾“å¤§æ–‡ä»¶çš„æ—¶å€™ä½¿ç”¨ç¼“å­˜ä¼šä½¿æ•ˆç‡å˜æ…¢ï¼Œå› ä¸ºé«˜å¹¶å‘æƒ…å†µä¸‹å¤§æ–‡ä»¶ä¼šè¿…é€Ÿå æ»¡ç¼“å†²åŒºï¼Œå¯¹äºå¤§æ–‡ä»¶æ¥è¯´è®¿é—®è¿‡çš„æ–‡ä»¶å†æ¬¡è®¿é—®å‡ ç‡å¾ˆå°ï¼Œè€Œä¸”æŸäº›çƒ­ç‚¹å°æ–‡ä»¶è¿˜ç”¨ä¸ä¸Šç¼“å­˜ï¼Œè¿™æ ·ç™½ç™½æµªè´¹äº†ä¸€æ¬¡æ•°æ®æ‹·è´ï¼Œæ‰€ä»¥ä¼ è¾“å¤§æ–‡ä»¶ä½¿ç”¨ç›´æ¥IO+å¼‚æ­¥IOæ¨¡å¼
  
  - IOå¤šè·¯å¤ç”¨æ¥å£ï¼Œselectï¼Œpollï¼Œepoll
  
    - selectåœ¨å†…æ ¸ä¸­ç»´æŠ¤äº†ä¸€ä¸ªåŠ¨æ€æ•°ç»„bitmapï¼Œæ¯å½“æœ‰äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™éƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œè€Œä¸”è¿˜éœ€è¦æŠŠæ•´ä¸ªæ•°ç»„ä»å†…æ ¸æ‹·è´åˆ°åº”ç”¨è¿›ç¨‹ä¸­
    - pollå’Œselectå·®ä¸å¤šï¼Œåªæ˜¯pollæ˜¯åœ¨å†…æ ¸ç»´æŠ¤äº†ä¸€ä¸ªåŠ¨æ€é“¾è¡¨ï¼Œå¯ä»¥çœ‹å‡ºselectå’Œepollå½“å¹¶å‘é‡å¾ˆå¤§æ—¶ï¼Œä¸èƒ½å¤Ÿå¾ˆå¥½çš„åº”å¯¹ï¼ˆC10Kï¼‰é—®é¢˜
    - epollæ˜¯åœ¨å†…æ ¸ä¸­ç»´æŠ¤äº†ä¸€ä¸ªçº¢é»‘æ ‘ï¼ŒæŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä¸ºO(logN)ï¼ŒåŒæ—¶è¿˜åœ¨å†…æ ¸ä¸­ç»´æŠ¤äº†ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­ä¿å­˜çš„æ˜¯å°±ç»ªçš„äº‹ä»¶ï¼Œåªå°†æœ‰äº‹ä»¶å‘ç”Ÿçš„socketé›†åˆå‘é€ç»™åº”ç”¨ç¨‹åº
  
    selectå’Œpollåªæ”¯æŒæ°´å¹³è§¦å‘ï¼Œè€Œepollæ”¯æŒæ°´å¹³è§¦å‘å’Œè¾¹ç¼˜è§¦å‘ï¼Œä»–ä»¬ä¸¤ä¸ªçš„åŒºåˆ«åœ¨äºæ°´å¹³è§¦å‘ä¼šä¸æ–­è‹é†’ï¼Œè€Œè¾¹ç¼˜è§¦å‘åªä¼šè‹é†’ä¸€æ¬¡ï¼Œä¸¾ä¸ªä¾‹å­
  
    ```shell
    # å®¢æˆ·ç«¯è°ƒç”¨epoll_waitæ¥ç­‰å¾…éƒ½å°±ç»ª
    # å¥—æ¥å­—ä¸Šæœ‰è¾“å…¥åˆ°æ¥ï¼Œepoll_waitè¿”å›ï¼Œå‘Šè¯‰æˆ‘ä»¬å¥—æ¥å­—ä¸Šæœ‰äº‹ä»¶å‘ç”Ÿ
    # å†æ¬¡è°ƒç”¨epoll_wait(åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å…¶ä»–äº‹ä»¶å‘ç”Ÿ)
    
    # å¦‚æœä½¿ç”¨è¾¹ç¼˜è§¦å‘ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è°ƒç”¨epollçš„æ—¶å€™ä¼šæˆåŠŸè¿”å›ï¼Œè€Œç¬¬äºŒæ¬¡è°ƒç”¨epoll_waitä¼šè¢«é˜»å¡ï¼Œå› ä¸ºæ²¡æœ‰æ–°çš„äº‹ä»¶åˆ°æ¥
    # å¦‚æœä½¿ç”¨è¾¹ç¼˜è§¦å‘ï¼Œåªè¦socketç¼“å†²åŒºä¸­è¿˜æœ‰æ•°æ®ï¼Œé‚£ä¹ˆä»–å°±ä¼šä¸€ç›´æˆåŠŸè¿”å›
    ```
  
  - é«˜æ€§èƒ½çš„ç½‘ç»œæ¨¡å¼Reactorå’ŒProactor
  
    - Reactoræ¨¡å¼äº‹å®ä¸Šå°±æ˜¯å¯¹IOå¤šè·¯å¤ç”¨åšäº†ä¸€å±‚å°è£…ï¼ŒReactorä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šReactorå’Œä¸šåŠ¡å¤„ç†æ¨¡å—ï¼Œä¸»è¦æœ‰ä¸‰ç§ç±»å‹å•Reactorå•è¿›ç¨‹ï¼ˆRedisï¼‰ï¼Œå•Reactorå¤šçº¿ç¨‹ï¼Œå¤šReactorå¤šè¿›ç¨‹/çº¿ç¨‹ï¼ˆNginx/Nettyï¼Œmemcacheï¼‰
      - Reactorä¸»è¦è´Ÿè´£äº‹ä»¶çš„ç›‘å¬å’Œåˆ†å‘ï¼Œæ—¶é—´æœ‰ä¸¤ç§ç±»å‹è¿æ¥ç±»å‹å’Œè¯»å†™ç±»å‹ï¼Œå¦‚æœæ˜¯è¿æ¥ç±»å‹ï¼Œé‚£ä¹ˆReactoré€šè¿‡dispatchå‡½æ•°æŠŠè¯¥äº‹ä»¶åˆ†å‘ç»™Acceptorï¼ŒAcceptorä¸ºè¿™ä¸ªäº‹ä»¶å»ºç«‹ä¸€ä¸ªè¿æ¥å¹¶åˆ›å»ºä¸€ä¸ªHandleræ¥å¤„ç†ä¹‹åè¿™ä¸ªè¿æ¥ä¸Šçš„è¯»å†™è¯·æ±‚ï¼Œå¦‚æœæ˜¯è¯»å†™ç±»å‹ï¼Œé‚£ä¹ˆç›´æ¥æŠŠè¿™ä¸ªäº‹ä»¶åˆ†å‘ç»™Handler
      - ä¸Šè¿°ä¸‰ç§ç±»å‹çš„å®ç°å„æœ‰ä¸åŒï¼Œå•Reactorå•è¿›ç¨‹ä¸­çš„Handlerä¸šåŠ¡å¤„ç†æµç¨‹æ˜¯read-->ä¸šåŠ¡å¤„ç†-->sendï¼›å•Reactorå¤šçº¿ç¨‹æ˜¯æŠŠHandlerä¸šåŠ¡å¤„ç†è¿‡ç¨‹è®©çº¿ç¨‹æ± æ¥å®Œæˆï¼Œå­çº¿ç¨‹å¤„ç†å®Œä¸šåŠ¡ä¹‹åï¼Œå°†ç»“æœè¿”å›ç»™ä¸»çº¿ç¨‹ï¼Œç”±ä¸»çº¿ç¨‹å“åº”ç»™å®¢æˆ·ç«¯ï¼›å¤šReactorå¤šè¿›ç¨‹åˆ†ä¸ºMainReactorå’ŒSubReactorï¼ŒMainReactoråªè´Ÿè´£ç›‘å¬è¿æ¥ç±»å‹çš„äº‹ä»¶ï¼ˆä¸»çº¿ç¨‹ï¼‰ï¼Œè€ŒSubReactorè´Ÿè´£ç›‘å¬è¯»å†™ç±»å‹çš„äº‹ä»¶ï¼ˆå­çº¿ç¨‹ï¼‰ï¼Œå¦‚æœæœ‰æ–°è¯»å†™çš„äº‹ä»¶å‘ç”ŸSubReactorå¯¹è±¡è°ƒç”¨ç›¸åº”çš„Handlerå¯¹è±¡å“åº”ï¼Œè¿™ä¸ªHandlerå¯¹è±¡çš„ä¸šåŠ¡å¤„ç†æµç¨‹æ˜¯read-->ä¸šåŠ¡å¤„ç†-->sendï¼Œç„¶ååœ¨å­çº¿ç¨‹ä¸­å°±å¯ä»¥å“åº”ç»™å®¢æˆ·ç«¯
    - Proactoræ¨¡å¼å¼‚æ­¥IOæ¨¡å¼ï¼Œå› ä¸ºå¼‚æ­¥IOä¸éœ€è¦ç­‰å¾…æ•°æ®å‡†å¤‡å’Œæ•°æ®æ‹·è´è¿‡ç¨‹ï¼Œæ‰€ä»¥Proactorçš„æ€§èƒ½æ›´å¥½ï¼ŒWindowsä¸­æä¾›äº†å®Œæ•´çš„å¼‚æ­¥ç¼–ç¨‹æ¥å£ï¼Œå«åšiocpï¼ŒLinuxä¸­çš„å¼‚æ­¥ç¼–ç¨‹æ¥å£ä¸å®Œå–„ï¼Œå«åšaioç³»åˆ—å‡½æ•°
  
    Reactorå’ŒProactoréƒ½æ˜¯åŸºäºäº‹ä»¶åˆ†å‘çš„ç½‘ç»œæ¨¡å¼ï¼Œä½†æ˜¯Reactoræ˜¯éé˜»å¡åŒæ­¥IOæ¨¡å¼ï¼Œæ„ŸçŸ¥çš„æ˜¯å°±ç»ªå¯è¯»å†™çš„äº‹ä»¶ï¼Œæ„æ€æ˜¯å½“æœ‰æ–°çš„äº‹ä»¶åˆ°æ¥æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥åº”ç”¨ç¨‹åºå»å¤„ç†ï¼Œè€ŒProactoræ˜¯å¼‚æ­¥IOæ¨¡å¼ï¼Œæ„ŸçŸ¥çš„æ˜¯å·²å®Œæˆçš„è¯»å†™äº‹ä»¶ï¼Œæ„æ€æ˜¯å½“æœ‰æ–°äº‹ä»¶åˆ°æ¥æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠè¿™ä¸ªäº‹ä»¶å¤„ç†å®Œäº†ä¹‹åï¼Œä¹Ÿå°±æ˜¯æŠŠæ•°æ®ç»™å¤„ç†å¥½äº†æ”¾åˆ°åº”ç”¨ç¨‹åºç¼“å†²åŒºä¸­åœ¨é€šçŸ¥åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†
  
  > :rainbow:æ“ä½œç³»ç»ŸHappy Endingï¼ä»¥åä¹Ÿè¦è®°å¾—åŠæ—¶å¤ä¹ å‘€ï¼



- 2021å¹´12æœˆ5æ—¥ï¼Œå¤ä¹ äº†ç½‘ç»œä¸­çš„pingçš„å·¥ä½œåŸç†å’Œé”®å…¥URLä¹‹åçš„è¿‡ç¨‹ä¸¤ä¸ªé—®é¢˜

  - pingçš„å·¥ä½œåŸç†ï¼špingæ˜¯åŸºäºICMPåè®®çš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥åœ¨è¯´pingåŸç†ä¹‹å‰è¦å…ˆå¥½å¥½äº†è§£ä¸€ä¸‹ICMPåè®®

    - ICMPåŠŸèƒ½çš„ä½œç”¨å°±æ˜¯å½“ç½‘ç»œåŒ…ç”±äºæŸç§åŸå› æœªè¾¾åˆ°ç›®æ ‡ä¸»æœºæ—¶ï¼Œç”±ICMPæ¥æŠ¥å‘Šé”™è¯¯åŸå› 
    - ICMPåè®®ä¸­çš„æŠ¥æ–‡æœ‰ä¸¤ç§ç±»å‹ï¼šæŸ¥è¯¢æŠ¥æ–‡ç±»å‹å’Œå·®é”™æŠ¥æ–‡ç±»å‹
      - æŸ¥è¯¢æŠ¥æ–‡ç±»å‹ä¸»è¦æœ‰ä¸¤ç§ï¼Œå›é€è¯·æ±‚æŠ¥æ–‡å’Œå›é€åº”ç­”æŠ¥æ–‡ï¼Œè¿™ä¸¤ç§æŠ¥æ–‡å°±æ˜¯pingæ‰€ä½¿ç”¨çš„ä¸¤ç§æŠ¥æ–‡ï¼Œè¿™ä¸¤ç§æŠ¥æ–‡ä¸­çš„åºå·å’Œæ ‡è¯†ç¬¦å¾ˆé‡è¦ï¼Œåºå·ç”¨æ¥è¡¨ç¤ºæ˜¯pingçš„ç¬¬å‡ ä¸ªæ•°æ®åŒ…ï¼Œæ˜¯å¦æœ‰ä¸¢åŒ…ç°è±¡ï¼Œè€Œæ ‡è¯†ç¬¦åˆ™ç”¨æ¥æ ‡è¯†æ˜¯å“ªä¸ªåº”ç”¨ç¨‹åºå‘é€çš„ICMPåŒ…ï¼ŒåŒæ—¶é€‰é¡¹æ•°æ®ä¸­ä¼šæºå¸¦ä¸Šäº‹ä»¶ï¼Œæ¥è¡¨ç¤ºICMPçš„å¾€è¿”æ—¶é—´
      - å·®é”™æŠ¥æ–‡ç±»å‹ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§
        - ç›®æ ‡ä¸å¯è¾¾æ¶ˆæ¯
          - ç½‘ç»œä¸å¯è¾¾
          - ä¸»æœºä¸å¯è¾¾
          - åè®®ä¸å¯è¾¾
          - ç«¯å£ä¸å¯è¾¾
          - éœ€è¦åˆ†ç‰‡ä½†æ˜¯ç¦æ­¢åˆ†ç‰‡
        - åŸç‚¹æŠ‘åˆ¶æ¶ˆæ¯
        - é‡å®šå‘æ¶ˆæ¯
        - è¶…æ—¶æ¶ˆæ¯

    å¯ä»¥çœ‹å‡ºpingå…¶å®å°±æ˜¯ICMPæŸ¥è¯¢ç±»å‹æŠ¥æ–‡çš„åº”ç”¨ï¼Œè€ŒICMPå·®é”™æŠ¥æ–‡ç±»å‹çš„åº”ç”¨ä»£è¡¨æ˜¯tracerouteï¼Œä»–ä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½ï¼š

    - ä¸€æ˜¯é€šè¿‡è®¾ç½®ç‰¹å®šçš„TTLèƒ½å¤Ÿå¾—åˆ°å‘é€ç«¯åˆ°ç›®æ ‡ä¸»æœºè·¯å¾„ä¸­ç»è¿‡äº†å“ªäº›è·¯ç”±å™¨ï¼Œé€šè¿‡è®¾ç½®ä¸€ä¸ªä¸å¯èƒ½çš„ç«¯å£ï¼Œå½“åˆ°è¾¾ç›®æ ‡ä¸»æœºæ—¶ï¼Œè¿”å›çš„ä¸å†æ˜¯è¶…æ—¶æ¶ˆæ¯ï¼Œè€Œæ˜¯ç«¯å£ä¸å¯è¾¾ç±»å‹çš„æ¶ˆæ¯
    - äºŒæ˜¯èƒ½å¤Ÿé€šè¿‡æ•…æ„è®¾ç½®ä¸åˆ†ç‰‡åˆ¤æ–­å‡ºæ•°æ®é“¾è·¯çš„MTUï¼Œå‘é€ç«¯ä¸»æœºæ¯æ¬¡æ”¶åˆ°å·®é”™æŠ¥æ–‡ç±»å‹çš„æ¶ˆæ¯æ—¶å°±ä¼šå‡å°‘å‘é€æ•°æ®åŒ…çš„å¤§å°ï¼Œå› ä¸ºè·¯ç”±å™¨è¿”å›çš„éœ€è¦åˆ†ç‰‡ä½†æ˜¯ç¦æ­¢åˆ†ç‰‡ç±»å‹çš„æ¶ˆæ¯ä¸­åŒ…å«äº†æ•°æ®é“¾è·¯çš„MTU

  - é”®å…¥urlåï¼Œæµè§ˆå™¨ä¼šç»å†å“ªäº›è¿‡ç¨‹ï¼Ÿ

    1. é¦–å…ˆå°±æ˜¯è§£æURLï¼Œè§£ææˆåŠŸURLä¹‹åä¼šå¾—åˆ°æœåŠ¡å™¨çš„åç§°å’Œè¦è®¿é—®æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶å
    2. ç¬¬äºŒæ˜¯ç”ŸæˆHTTPè¯·æ±‚æ¶ˆæ¯ï¼Œå‘æœåŠ¡å™¨è¯·æ±‚èµ„æº
    3. ç¬¬ä¸‰æ˜¯ï¼Œåœ¨è¿™ä¸ªè¯·æ±‚å‘é€åˆ°ä¼ è¾“å±‚ä¹‹å‰ï¼Œé¦–å…ˆè¦æ‰¾åˆ°æœåŠ¡å™¨åŸŸåå¯¹åº”çš„IPåœ°å€ï¼Œä¾æ¬¡ä»æµè§ˆå™¨ç¼“å­˜ã€æœ¬åœ°ç¼“å­˜ã€æœ¬åœ°hostæ–‡ä»¶ä¸­æ‰¾ï¼Œéƒ½æ²¡æœ‰å†å»æœ¬åœ°DNSæœåŠ¡å™¨ä¸Šæ‰¾ï¼Œè¿˜æ˜¯æ²¡æœ‰é‚£ä¹ˆå°±é€šè¿‡DNSæœåŠ¡å™¨ä¾æ¬¡å‘æ ¹åŸŸã€é¡¶çº§åŸŸã€æƒå¨åŸŸè¯·æ±‚ï¼Œæœ€ç»ˆå¾—åˆ°IPåœ°å€ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨
    4. ç¬¬å››æ˜¯å°†è¯·æ±‚ä¿¡æ¯å‘é€ç»™ä¼ è¾“å±‚ï¼Œä¼ è¾“å±‚æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯ä¹‹åï¼Œä¼šåœ¨TCPæŠ¥å¤´ä¸­å¡«å…¥ç›®æ ‡ç«¯å£å·ä»¥åŠä¸€äº›å…¶ä»–æ§åˆ¶ä¿¡æ¯ï¼Œç„¶åè¿›è¡ŒTCPä¸‰æ¬¡æ¡æ‰‹ï¼Œåªæœ‰æ¡æ‰‹æˆåŠŸä¹‹åæ‰å¯ä»¥æ­£å¼ä¼ è¾“æ•°æ®ï¼Œæ¡æ‰‹çš„æŠ¥æ–‡ä¹Ÿè¦èµ°ä»¥ä¸‹è¿‡ç¨‹
    5. ç¬¬äº”æ˜¯ç»™å‰é¢çš„æŠ¥æ–‡åŠ ä¸Šä¸€ä¸ªIPå¤´ï¼Œå¡«å…¥ç›®æ ‡iPåœ°å€ï¼ŒåŒæ—¶æºåœ°å€éœ€è¦å…ˆåˆ¤æ–­ä½¿ç”¨å“ªå—ç½‘å¡æ¥å‘é€
    6. ç¬¬å…­æ˜¯å°†å‰é¢çš„æ•°æ®åŒ…äº¤ç»™æ•°æ®é“¾è·¯å±‚ï¼ŒåŠ ä¸ŠMACåœ°å€ï¼Œå¦‚æœæ²¡æœ‰ç¼“å­˜é‚£ä¹ˆé€šè¿‡ARPåè®®æ¥æ‰¾åˆ°MACåœ°å€
    7. ç¬¬ä¸ƒæ˜¯å°†ç½‘ç»œåŒ…äº¤ç»™ç½‘å¡ï¼Œç½‘å¡ç»™ç½‘ç»œåŒ…åœ¨å¤´éƒ¨åŠ ä¸ŠæŠ¥å¤´å’Œèµ·å§‹å¸§åˆ†èŠ‚ç¬¦ï¼Œåœ¨å°¾éƒ¨åŠ ä¸Šå¸§æ ¡éªŒåºåˆ—ï¼Œç„¶åé€šè¿‡äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„ä¸æ–­è½¬å‘ï¼Œå‘é€åˆ°ç›®æ ‡ä¸»æœº

    æ³¨æ„äº¤æ¢æœºçš„ç«¯å£æ˜¯æ²¡æœ‰MACåœ°å€çš„ï¼Œäº¤æ¢æœºä¸Šé¢æœ‰ä¸€ä¸ªMACåœ°å€è¡¨ï¼Œç”¨æ¥è®°å½•MACåœ°å€å’Œç«¯å£ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Œäº¤æ¢æœºå«åšäºŒçº§äº¤æ¢è®¾å¤‡ï¼Œè·¯ç”±å™¨æ˜¯ä¸‰çº§äº¤æ¢è®¾å¤‡ï¼Œè·¯ç”±å™¨çš„ç«¯å£æ—¢æœ‰IPåœ°å€ï¼Œåˆæœ‰MACåœ°å€ï¼Œæ•°æ®å¿…é¡»é€šè¿‡äº¤æ¢æœºæ‰èƒ½å¤Ÿåˆ°è¾¾è·¯ç”±å™¨ï¼Œè€Œç°åœ¨å¤§å¤šæ•°çš„è·¯ç”±å™¨éƒ½å…·å¤‡äº†äº¤æ¢æœºçš„åŠŸèƒ½

> :rainbow:è®¡ç®—æœºç½‘ç»œHappy Endingï¼ä»¥åä¹Ÿè¦è®°å¾—åŠæ—¶å¤ä¹ å‘€ï¼







# END

